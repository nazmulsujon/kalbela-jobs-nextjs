(()=>{var e={};e.id=1503,e.ids=[1503],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},47003:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>m,routeModule:()=>u,tree:()=>c});var t=s(67096),l=s(16132),i=s(37284),n=s.n(i),r=s(32564),o={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>r[e]);s.d(a,o);let c=["",{children:["(home)",{children:["search-details",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,13578)),"/Users/brightfuturesoft/Developer/Kalbela_Jobs/kalbela-jobs-nextjs/app/(home)/search-details/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,89295)),"/Users/brightfuturesoft/Developer/Kalbela_Jobs/kalbela-jobs-nextjs/app/(home)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],m=["/Users/brightfuturesoft/Developer/Kalbela_Jobs/kalbela-jobs-nextjs/app/(home)/search-details/page.tsx"],d="/(home)/search-details/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/(home)/search-details/page",pathname:"/search-details",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},61064:(e,a,s)=>{Promise.resolve().then(s.bind(s,3444))},3444:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>page});var t=s(30784),l=s(9885),i=s(57114),n=s(12029),r=s(71072),o=s(55267),c=s(98699),m=s(80459),d=s(20341);let components_JobCardSkeleton=()=>(0,t.jsxs)("div",{className:"rounded border p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"relative pb-2",children:[t.jsx(d.O,{className:"h-4 w-1/3"}),t.jsx(d.O,{className:"my-1 h-4 w-1/4"}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[t.jsx(d.O,{className:"h-4 w-1/6"}),t.jsx(d.O,{className:"h-4 w-1/4"})]}),t.jsx(d.O,{className:"mt-1 h-4 w-5/6"}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[t.jsx(d.O,{className:"h-4 w-12"}),t.jsx(d.O,{className:"h-4 w-16"}),t.jsx(d.O,{className:"h-4 w-20"})]}),t.jsx(d.O,{className:"absolute right-0 top-0 h-16 w-16 rounded"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-1",children:[t.jsx(d.O,{className:"h-4 w-1/4"}),t.jsx(d.O,{className:"h-4 w-10"})]})]});var p=s(64384),u=s(82878),x=s(21145),g=s(50101);let components_FilterSelect=({customStyles:e,location:a,setLocation:s,job_type:l,setJobType:i,category:n,setCategory:r})=>{let{data:c}=(0,g.Z)("job-type","GET"),{data:m}=(0,g.Z)("category","GET");console.log("category---->>>",m);let handleFilterChange=e=>a=>{"location"===e?s(a?.value||""):"job_type"===e?i(a?.value||""):"category"===e&&r(a?.value||"")},CustomOption=e=>{let{data:a,innerRef:s,innerProps:l,isSelected:i,isFocused:n}=e;return(0,t.jsxs)("div",{ref:s,...l,className:`flex items-center space-x-2 p-2 ${i?"bg-blue-500 text-white":n?"bg-gray-300":""}`,children:[a.image&&t.jsx("img",{src:a.image,alt:a.label,className:"h-6 w-6 rounded-full"}),t.jsx("span",{className:"max-w-full truncate",children:a.label})]})},CustomSingleValue=e=>{let{data:a}=e;return(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[a.image&&t.jsx("img",{src:a.image,alt:a.label,className:"h-5 w-5 rounded-full"}),t.jsx("span",{className:"max-w-40 truncate text-sm",children:a.label})]})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("h4",{className:"mb-1 text-sm font-medium",children:"Job Type"}),t.jsx(o.ZP,{value:l?c?.data?.map(e=>({value:e.slag,label:e.name,image:e.image||""})).find(e=>e.value===l)||null:{value:"",label:"All",image:"/icons/all_job_type.jpg"},onChange:handleFilterChange("job_type"),options:[{value:"",label:"All",image:"/icons/all_job_type.jpg"},...c?.data?.map(e=>({value:e.slag,label:e.name,image:e.image||""}))||[]],className:"w-full capitalize",styles:e,components:{Option:CustomOption,SingleValue:CustomSingleValue},isSearchable:!0})]}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("h4",{className:"mb-1 text-sm font-medium",children:"Categories"}),t.jsx(o.ZP,{value:n?m?.data?.map(e=>({value:e.slag,label:e.name,image:e.image||""})).find(e=>e.value===n)||null:{value:"",label:"All",image:"/icons/category.png"},onChange:handleFilterChange("category"),options:[{value:"",label:"All",image:"/icons/category.png"},...m?.data?.map(e=>({value:e.slag,label:e.name,image:e.image||""}))||[]],className:"w-full capitalize",styles:e,components:{Option:CustomOption,SingleValue:CustomSingleValue},isSearchable:!0})]}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("h4",{className:"mb-1 text-sm font-medium",children:"Location"}),t.jsx(o.ZP,{value:{label:""===a?"All Locations":a,value:a,image:"/icons/location.jpg"},onChange:handleFilterChange("location"),options:[{value:"",label:"All Locations",image:"/icons/location.jpg"},{value:"dhaka",label:"Dhaka",image:"/icons/location.jpg"},{value:"chittagong",label:"Chittagong",image:"/icons/location.jpg"},{value:"rajshahi",label:"Rajshahi",image:"/icons/location.jpg"},{value:"khulna",label:"Khulna",image:"/icons/location.jpg"},{value:"barisal",label:"Barisal",image:"/icons/location.jpg"},{value:"sylhet",label:"Sylhet",image:"/icons/location.jpg"},{value:"rangpur",label:"Rangpur",image:"/icons/location.jpg"},{value:"mymensingh",label:"Mymensingh",image:"/icons/location.jpg"}],className:"w-full capitalize",styles:e,components:{Option:CustomOption,SingleValue:CustomSingleValue},isSearchable:!0})]})]})};var h=s(11440),j=s.n(h),b=s(87371),v=s(95555);let f={src:"/_next/static/media/fallback_img.78297379.png"},JobCardLarge=({job:e})=>t.jsx(j(),{href:`/jobs/${e.url}`,className:"block rounded border p-4 shadow-sm focus:outline-none focus:ring focus:ring-offset-2",children:(0,t.jsxs)("article",{children:[(0,t.jsxs)("div",{className:"relative border-b border-gray-400 pb-2",children:[(0,t.jsxs)("header",{children:[t.jsx("div",{className:"max-w-64 md:max-w-xl",children:t.jsx("h2",{className:"text-lg font-bold",children:e.job_title})}),t.jsx("h3",{className:"my-0.5",children:e.company_info?.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[t.jsx("span",{className:"capitalize",children:e.experience_level}),t.jsx("span",{children:e.salary_negotiable||e.negotiable_note?"Negotiable":`${e.salary_range?.min}${e.salary_range?.max?` - ${e.salary_range.max}`:""} ${e.salary_range?.currency||""}`})]}),t.jsx("p",{className:"mt-0.5 max-w-2xl truncate text-sm",children:e.description})]}),t.jsx("div",{className:"mt-4 flex w-full gap-2 overflow-x-auto scrollbar-hide  lg:flex-wrap lg:overflow-x-visible",children:e.skills?.map((e,a)=>t.jsx("span",{className:" rounded border  whitespace-nowrap  border-gray-400 px-2 py-1 text-xs",children:e},a))}),t.jsx("p",{className:"mt-2 text-xs",children:e.postedDate}),t.jsx("div",{className:"absolute border  right-0 top-0 w-16 h-16 md:w-20",children:t.jsx("img",{className:"rounded w-full h-full object-scale-down p-2",src:e.company_info?.logo||f.src,alt:`${e.company_info?.name} logo`})})]}),(0,t.jsxs)("footer",{className:"flex items-center justify-between pt-1",children:[(0,t.jsxs)("p",{className:"text-sm",children:[t.jsx("strong",{children:"Deadline:"})," ",(0,c.p6)(e.expiry_date)]}),(0,t.jsxs)(v.z,{className:"text-sm hover:no-underline",size:"sm",variant:"link",onClick:e=>e.stopPropagation(),children:[t.jsx(b.Z,{className:"me-1 size-4"})," Save for later"]})]})]})},e._id);var y=s(3843),N=s(51910),_=s(11922);s(29137);let Pagination=({className:e,...a})=>t.jsx("nav",{role:"navigation","aria-label":"pagination",className:(0,c.cn)("mx-auto flex w-full justify-center",e),...a});Pagination.displayName="Pagination";let w=l.forwardRef(({className:e,...a},s)=>t.jsx("ul",{ref:s,className:(0,c.cn)("flex flex-row items-center gap-1",e),...a}));w.displayName="PaginationContent";let P=l.forwardRef(({className:e,...a},s)=>t.jsx("li",{ref:s,className:(0,c.cn)("",e),...a}));P.displayName="PaginationItem";let PaginationLink=({className:e,isActive:a,size:s="icon",...l})=>t.jsx("a",{"aria-current":a?"page":void 0,className:(0,c.cn)((0,v.d)({variant:a?"outline":"ghost",size:s}),e),...l});PaginationLink.displayName="PaginationLink";let PaginationPrevious=({className:e,...a})=>(0,t.jsxs)(PaginationLink,{"aria-label":"Go to previous page",size:"default",className:(0,c.cn)("gap-1 pl-2.5",e),...a,children:[t.jsx(N.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Previous"})]});PaginationPrevious.displayName="PaginationPrevious";let PaginationNext=({className:e,...a})=>(0,t.jsxs)(PaginationLink,{"aria-label":"Go to next page",size:"default",className:(0,c.cn)("gap-1 pr-2.5",e),...a,children:[t.jsx("span",{children:"Next"}),t.jsx(_.Z,{className:"h-4 w-4"})]});PaginationNext.displayName="PaginationNext";let page=()=>{let{theme:e}=(0,r.F)(),a=(0,c.P7)(e||"light"),s=(0,i.useSearchParams)(),d=s.get("query"),g=s.get("location"),h=s.get("job_type"),j=s.get("category"),[b,v]=(0,l.useState)(d||""),[f,N]=(0,l.useState)(g||""),[_,C]=(0,l.useState)(h||""),[S,k]=(0,l.useState)(j||""),[q,O]=(0,l.useState)(1),[Z,A]=(0,l.useState)("Relevance"),{jobs:L,totalJobs:$,loading:D}=function({endpoint:e,search:a="",pageNumber:s=1,location:t="",job_type:i="",category:n="",salary_range:r="",limit:o=10}){let[c,m]=(0,l.useState)(!1),[d,p]=(0,l.useState)(!1),[u,g]=(0,l.useState)([]),[h,j]=(0,l.useState)(0),[b,v]=(0,l.useState)(!1),[f,y]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{g([])},[s]),(0,l.useEffect)(()=>{let l;m(!0),p(!1);let c=new URLSearchParams;a&&c.append("search",a),n&&c.append("category",n),t&&c.append("location",t),i&&c.append("job_type",i),r&&c.append("salary_range",r),c.append("page",s.toString()),c.append("limit",o.toString());let fetchData=async()=>{try{l=x.Z.CancelToken.source();let a=await x.Z.get(`https://server.kalbelajobs.com/api/v1/${e}?${c.toString()}`,{headers:{"Content-Type":"application/json"},cancelToken:l.token}),s=a.data.data.jobs,t=a.data.data.pagination?.totalCount;g(s),j(t||0),v(s.length===o),m(!1)}catch(e){if(x.Z.isCancel(e))return;p(!0),m(!1)}};return fetchData(),()=>l?.cancel()},[e,a,s,t,i,n,r,o,f]),{loading:c,error:d,jobs:u,totalJobs:h,hasMore:b,triggerRevalidate:()=>y(e=>!e)}}({endpoint:"jobs",search:b,pageNumber:q,location:f,job_type:_,category:S,salary_range:"",limit:10}),F=Math.ceil($/10);(0,l.useEffect)(()=>{k(s.get("category")||""),O(1)},[s]);let handlePageChange=e=>{O(e)};return(0,t.jsxs)("section",{children:[t.jsx(p.Z,{className:"pt-2 lg:hidden",children:(0,t.jsxs)(m.yo,{children:[t.jsx(m.aM,{asChild:!0,children:(0,t.jsxs)(u.Z,{className:"flex items-center justify-between px-3 text-sm",children:[t.jsx(n.Z,{className:"me-2 size-4"})," Filter All"]})}),(0,t.jsxs)(m.ue,{className:"h-[90vh]",side:"bottom",children:[t.jsx(m.Tu,{className:"mb-4",children:t.jsx(m.bC,{children:"All Filters"})}),t.jsx("div",{className:"w-full rounded border p-4 shadow-sm",children:t.jsx(components_FilterSelect,{customStyles:a,location:f,setLocation:N,job_type:_,setJobType:C,category:S,setCategory:k})})]})]})}),(0,t.jsxs)(p.Z,{className:"flex flex-col gap-6 p-4 lg:flex-row",children:[(0,t.jsxs)("aside",{className:"hidden h-fit w-full rounded border p-4 shadow-sm md:sticky md:top-20 lg:block lg:w-1/4",children:[t.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"All Filters"}),t.jsx(components_FilterSelect,{customStyles:a,location:f,setLocation:N,job_type:_,setJobType:C,category:S,setCategory:k})]}),(0,t.jsxs)("div",{className:"flex-grow lg:w-3/4",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("p",{className:"text-sm",children:`${(q-1)*10+1} - ${Math.min(10*q,$)} of ${$} Jobs`}),t.jsx("div",{className:"w-72",children:t.jsx(o.ZP,{options:[{value:"Relevance",label:"Sort by: Relevance"},{value:"Date",label:"Sort by: Date"}],styles:a,isSearchable:!1,onChange:e=>{if(e){A(e.value);let a=[...L];"Date"===e.value&&a.reverse()}}})})]}),D?t.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,a)=>t.jsx(components_JobCardSkeleton,{},a))}):t.jsx("div",{className:"space-y-4",children:L?.length>0?L?.map((e,a)=>t.jsx(JobCardLarge,{job:e},a)):t.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:t.jsx(y.Z,{})})}),F>1&&t.jsx(Pagination,{className:"mt-8",children:(0,t.jsxs)(w,{children:[t.jsx(P,{children:t.jsx(PaginationPrevious,{href:"#",onClick:()=>handlePageChange(Math.max(1,q-1)),className:1===q?"pointer-events-none opacity-50":""})}),[...Array(F)].map((e,a)=>t.jsx(P,{children:t.jsx(PaginationLink,{href:"#",onClick:()=>handlePageChange(a+1),isActive:q===a+1,children:a+1})},a)),t.jsx(P,{children:t.jsx(PaginationNext,{href:"#",onClick:()=>handlePageChange(Math.min(F,q+1)),className:q===F?"pointer-events-none opacity-50":""})})]})})]})]})]})}},13578:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var t=s(95153);let l=(0,t.createProxy)(String.raw`/Users/brightfuturesoft/Developer/Kalbela_Jobs/kalbela-jobs-nextjs/app/(home)/search-details/page.tsx`),{__esModule:i,$$typeof:n}=l,r=l.default,o=r}};var a=require("../../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),s=a.X(0,[51,9795,1237,1455,754,7820,5172,4191,4449,5978,1119,2085],()=>__webpack_exec__(47003));module.exports=s})();