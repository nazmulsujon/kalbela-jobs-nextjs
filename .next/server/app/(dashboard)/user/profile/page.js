(()=>{var e={};e.id=4274,e.ids=[4274],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},59877:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>o,routeModule:()=>u,tree:()=>c});var t=s(67096),l=s(16132),i=s(37284),r=s.n(i),n=s(32564),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(a,d);let c=["",{children:["(dashboard)",{children:["user",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,92555)),"/Users/brightfuturesoft/Developer/Kalbela_Jobs/kalbela-jobs-nextjs/app/(dashboard)/user/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,39018)),"/Users/brightfuturesoft/Developer/Kalbela_Jobs/kalbela-jobs-nextjs/app/(dashboard)/user/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/brightfuturesoft/Developer/Kalbela_Jobs/kalbela-jobs-nextjs/app/(dashboard)/user/profile/page.tsx"],h="/(dashboard)/user/profile/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/(dashboard)/user/profile/page",pathname:"/user/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},79425:(e,a,s)=>{Promise.resolve().then(s.bind(s,58760))},58760:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>page});var t=s(30784),l=s(9885),i=s(89310),r=s(84070),n=s(52451),d=s.n(n),c=s(11440),o=s.n(c),h=s(67932),m=s(95196),u=s(83794),x=s(59490),p=s(87094),j=s(6315),g=s(6087),v=s(22385),f=s(95555),y=s(20599),N=s(40516),b=s(33770),_=s(32451);function EditModal({open:e,onOpenChange:a,title:s,description:l,children:i}){return t.jsx("div",{className:"",children:t.jsx(N.Vq,{open:e,onOpenChange:a,children:t.jsx("form",{children:(0,t.jsxs)(N.cZ,{children:[(0,t.jsxs)(N.fK,{children:[t.jsx(N.$N,{className:"text-start",children:s}),l&&t.jsx(N.Be,{className:"text-start",children:l})]}),t.jsx("div",{className:"z-40 max-h-[500px] overflow-y-auto ",style:{scrollbarWidth:"none"},children:i})]})})})})}s(22745);var w=s(2243),C=s(32923),S=s(95008),E=s.n(S),k=s(29869),A=s(20341),D=s(21223),P=s(35527),Z=s(83642),O=s.n(Z),F=s(93680);s(24221);let M=O()(()=>s.e(2182).then(s.t.bind(s,12182,23)),{loadableGenerated:{modules:["/Users/brightfuturesoft/Developer/Kalbela_Jobs/kalbela-jobs-nextjs/app/(dashboard)/user/profile/components/About.tsx -> react-quill"]},ssr:!1}),components_About=()=>{let[e,a]=(0,w.v$)(),[s,i]=(0,l.useState)(!1),[r,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(""),[o,h]=(0,l.useState)(e?.title||""),[u,x]=(0,l.useState)(e?.description||""),{apiRequest:p}=(0,D.Z)(),update_about=async()=>{n(!0);let{data:s,error:t}=await p(`api/v1/user/update-profile?id=${e?._id}`,"PUT",{title:o,description:u});if(n(!1),t){c(t.message);return}s&&((0,w.t1)(s.data),a(s.data),c(""),i(!1))};if(!e)return t.jsx(AboutSkeleton,{});let j=e?.title?.length===0&&e?.description?.length===11;return(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"About"})}),t.jsx(y.aY,{className:"space-y-4",children:j?t.jsx(EmptyState,{title:"No information added yet",description:"Add your professional title and a brief description about yourself.",icon:t.jsx(F.Z,{className:"h-10 w-10"}),action:(0,t.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>i(!0),children:[t.jsx(m.Z,{className:"h-4 w-4"}),"Add details"]})}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("p",{className:"font-medium",children:e.title}),t.jsx("div",{className:"prose max-w-none text-muted-foreground",children:t.jsx("div",{dangerouslySetInnerHTML:{__html:e.description}})}),(0,t.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>i(!0),children:[t.jsx(m.Z,{className:"h-4 w-4"}),"Edit details"]})]})})]}),(0,t.jsxs)(EditModal,{open:s,onOpenChange:i,title:"Edit Details",description:"Update your profile details",children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"title",children:"Title"}),t.jsx(b.I,{id:"title",value:o,onChange:e=>h(e.target.value),placeholder:"e.g., Senior Software Engineer"})]}),(0,t.jsxs)("div",{className:"mb-8 grid gap-2",children:[t.jsx(_._,{htmlFor:"about",children:"About"}),t.jsx(M,{value:u,onChange:e=>{x(e)},placeholder:"Write a brief description about yourself..."})]})]}),d&&t.jsx("p",{className:"py-4 text-red-500",children:d}),t.jsx(N.cN,{children:t.jsx(f.z,{disabled:r,onClick:update_about,type:"submit",children:r?"Updating...":"Update Details"})})]})]})},AboutSkeleton=()=>t.jsx("div",{children:(0,t.jsxs)(y.Zb,{className:"",children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"About"})}),(0,t.jsxs)(y.aY,{className:"space-y-4",children:[t.jsx(A.O,{className:"h-4 w-3/4"}),t.jsx(A.O,{className:"h-20 w-full"}),t.jsx(A.O,{className:"h-10 w-40"})]})]})}),EmptyState=({title:e,description:a,icon:s,action:l})=>(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center rounded bg-gray-50 p-8 text-center shadow-sm",children:[t.jsx("div",{className:"mb-4 text-gray-400",children:s}),t.jsx("h3",{className:"mb-2 text-lg font-semibold",children:e}),t.jsx("p",{className:"mb-4 text-gray-500",children:a}),l]});var I=s(71072),z=s(55267),T=s(98699);let fetchCountries=async()=>{let e=await fetch("https://restcountries.com/v3.1/all"),a=await e.json();return a.map(e=>({value:e.cca2,label:e.name.common}))},fetchDivisions=async()=>{let e=await fetch("https://example.com/divisions"),a=await e.json();return a.map(e=>({value:e.id,label:e.name}))},fetchCities=async()=>{let e=await fetch("https://example.com/cities"),a=await e.json();return a.map(e=>({value:e.id,label:e.name}))},components_Address=()=>{let{theme:e}=(0,I.F)(),a=(0,T.P7)(e||"light"),[s,i]=(0,l.useState)(!1),[r,n]=(0,l.useState)({presentCountry:null,presentDivision:null,presentCity:null,permanentCountry:null,permanentDivision:null,permanentCity:null}),{data:d=[],isLoading:c}=(0,C.a)({queryKey:["countries"],queryFn:fetchCountries}),{data:o=[],isLoading:h}=(0,C.a)({queryKey:["divisions"],queryFn:fetchDivisions}),{data:u=[],isLoading:x}=(0,C.a)({queryKey:["cities"],queryFn:fetchCities}),handleSave=()=>{console.log("Address data:",r),i(!1)};return(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Address"})}),t.jsx(y.aY,{children:Object.values(r).some(e=>e)?(0,t.jsxs)("div",{className:"space-y-4 text-gray-600 dark:text-slate-200",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Present Address:"}),`${r.presentCity?.label||"N/A"}, ${r.presentDivision?.label||"N/A"}, ${r.presentCountry?.label||"N/A"}`]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Permanent Address:"}),`${r.permanentCity?.label||"N/A"}, ${r.permanentDivision?.label||"N/A"}, ${r.permanentCountry?.label||"N/A"}`]}),(0,t.jsxs)(f.z,{onClick:()=>i(!0),variant:"outline",children:[t.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Edit Address"]})]}):(0,t.jsxs)("div",{children:[t.jsx("p",{className:"mb-3 text-gray-500",children:"No address added yet."}),(0,t.jsxs)(f.z,{onClick:()=>i(!0),variant:"outline",children:[t.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Add Address"]})]})})]}),s&&t.jsx(EditModal,{open:s,onOpenChange:i,title:"Edit Address",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),handleSave()},className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx(_._,{className:"mb-2",children:"Present Address"}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[t.jsx(z.ZP,{options:d,value:r.presentCountry,onChange:e=>n(a=>({...a,presentCountry:e})),isLoading:c,placeholder:"Select Country",styles:a}),t.jsx(z.ZP,{options:o,value:r.presentDivision,onChange:e=>n(a=>({...a,presentDivision:e})),isLoading:h,placeholder:"Select Division",styles:a}),t.jsx(z.ZP,{options:u,value:r.presentCity,onChange:e=>n(a=>({...a,presentCity:e})),isLoading:x,placeholder:"Select City",styles:a})]})]}),(0,t.jsxs)("div",{children:[t.jsx(_._,{className:"mb-2",children:"Permanent Address"}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[t.jsx(z.ZP,{options:d,value:r.permanentCountry,onChange:e=>n(a=>({...a,permanentCountry:e})),isLoading:c,placeholder:"Select Country",styles:a}),t.jsx(z.ZP,{options:o,value:r.permanentDivision,onChange:e=>n(a=>({...a,permanentDivision:e})),isLoading:h,placeholder:"Select Division",styles:a}),t.jsx(z.ZP,{options:u,value:r.permanentCity,onChange:e=>n(a=>({...a,permanentCity:e})),isLoading:x,placeholder:"Select City",styles:a})]})]}),t.jsx("div",{className:"text-right",children:t.jsx(f.z,{type:"submit",children:"Save"})})]})})]})};var q=s(14723);let components_BloodGroup=()=>{let[e,a]=(0,l.useState)(!1),[s,i]=(0,l.useState)({bloodGroup:""}),handleSave=()=>{console.log("Blood Group data:",s),a(!1)},handleAddEdit=()=>{a(!0)};return(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Blood Group"})}),t.jsx(y.aY,{className:"space-y-4",children:t.jsx("div",{className:"text-left",children:s.bloodGroup?(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-slate-200",children:s.bloodGroup}),(0,t.jsxs)(f.z,{onClick:handleAddEdit,variant:"outline",children:[t.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Edit Blood Group"]})]}):(0,t.jsxs)("div",{children:[t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No data added yet."}),t.jsx("div",{className:"mt-4",children:(0,t.jsxs)(f.z,{variant:"outline",onClick:handleAddEdit,children:[t.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Add Blood Group"]})})]})})})]}),e&&t.jsx(EditModal,{open:e,onOpenChange:a,title:s.bloodGroup?"Edit Blood Group":"Add Blood Group",children:(0,t.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),handleSave()},children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(_._,{htmlFor:"blood-group",children:"Blood Group*"}),(0,t.jsxs)(q.Ph,{onValueChange:e=>i(a=>({...a,bloodGroup:e})),value:s.bloodGroup,children:[t.jsx(q.i4,{id:"blood-group",children:t.jsx(q.ki,{placeholder:"Select blood group"})}),(0,t.jsxs)(q.Bw,{children:[t.jsx(q.Ql,{value:"A+",children:"A+"}),t.jsx(q.Ql,{value:"A-",children:"A-"}),t.jsx(q.Ql,{value:"B+",children:"B+"}),t.jsx(q.Ql,{value:"B-",children:"B-"}),t.jsx(q.Ql,{value:"AB+",children:"AB+"}),t.jsx(q.Ql,{value:"AB-",children:"AB-"}),t.jsx(q.Ql,{value:"O+",children:"O+"}),t.jsx(q.Ql,{value:"O-",children:"O-"})]})]})]}),t.jsx("div",{className:"text-right",children:t.jsx(f.z,{type:"submit",children:"Save"})})]})})]})},U=O()(()=>s.e(2182).then(s.t.bind(s,12182,23)),{loadableGenerated:{modules:["/Users/brightfuturesoft/Developer/Kalbela_Jobs/kalbela-jobs-nextjs/app/(dashboard)/user/profile/components/CareerObjective.tsx -> react-quill"]},ssr:!1}),components_CareerObjective=()=>{let[e,a]=(0,l.useState)(!1),[s,i]=(0,l.useState)("");return(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Career Objective"})}),t.jsx(y.aY,{className:"space-y-4",children:s?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"prose max-w-none text-muted-foreground",children:t.jsx("div",{dangerouslySetInnerHTML:{__html:s}})}),(0,t.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>a(!0),children:[t.jsx(m.Z,{className:"h-4 w-4"}),"Edit details"]})]}):t.jsx(CareerObjective_EmptyState,{title:"No information added yet",description:"Add a brief description about your career goals.",icon:t.jsx(F.Z,{className:"h-10 w-10"}),action:(0,t.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>a(!0),children:[t.jsx(m.Z,{className:"h-4 w-4"}),"Add details"]})})})]}),(0,t.jsxs)(EditModal,{open:e,onOpenChange:a,title:"Edit Career Objective",description:"Update your career objective details",children:[t.jsx("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"mb-8 grid gap-2",children:[t.jsx(_._,{htmlFor:"description",children:"Description"}),t.jsx(U,{value:s,onChange:e=>{i(e)},placeholder:"Write a brief description about your career objective..."})]})}),t.jsx(N.cN,{children:t.jsx(f.z,{onClick:()=>{console.log("Career Objective:",s),a(!1)},type:"submit",children:"Update Details"})})]})]})},CareerObjective_EmptyState=({title:e,description:a,icon:s,action:l})=>(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center rounded bg-gray-50 p-8 text-center shadow-sm",children:[t.jsx("div",{className:"mb-4 text-gray-400",children:s}),t.jsx("h3",{className:"mb-2 text-lg font-semibold",children:e}),t.jsx("p",{className:"mb-4 text-gray-500",children:a}),l]});var $=s(34944),B=s(48973),G=s(26303);let Y=0,L=new Map,addToRemoveQueue=e=>{if(L.has(e))return;let a=setTimeout(()=>{L.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},1e6);L.set(e,a)},reducer=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?addToRemoveQueue(s):e.toasts.forEach(e=>{addToRemoveQueue(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},R=[],Q={toasts:[]};function dispatch(e){Q=reducer(Q,e),R.forEach(e=>{e(Q)})}function toast({...e}){let a=(Y=(Y+1)%Number.MAX_SAFE_INTEGER).toString(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:a});return dispatch({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:e=>{e||dismiss()}}}),{id:a,dismiss,update:e=>dispatch({type:"UPDATE_TOAST",toast:{...e,id:a}})}}let components_Certifications=()=>{let[e,a]=(0,l.useState)(!1),[s,i]=(0,l.useState)(null),[n]=(0,w.v$)(),[d,c]=(0,l.useState)(!1),[o,h]=(0,l.useState)({name:"",year:"",file:null}),u=(0,r.NL)(),{data:x=[],isLoading:p,error:j}=(0,C.a)({queryKey:["certificationsData",n?._id],queryFn:async()=>{if(!n?._id)return[];let e=await fetch(`https://server.kalbelajobs.com/api/v1/user/get-certification?user_id=${n._id}`);if(!e.ok)throw Error("Failed to fetch certifications");let a=await e.json();return a.data},enabled:!!n?._id}),{apiRequest:g}=(0,D.Z)(),S=(0,$.D)({mutationFn:async e=>{let a=e.certification_id?`api/v1/user/update-certification?certification_id=${e.certification_id}`:"api/v1/user/upload-certification",s=e.certification_id?"PATCH":"POST",{data:t,error:l}=await g(a,s,{...e,user_id:n?._id});if(l)throw l;return t},onSuccess:()=>{u.invalidateQueries(["certificationsData",n?._id]),a(!1),toast({title:"Success",description:s?"Certification updated successfully":"Certification added successfully"})},onError:e=>{toast({title:"Error",description:s?"Failed to update certification":"Failed to add certification",variant:"destructive"})}}),E=(0,$.D)({mutationFn:async e=>{let{data:a,error:s}=await g(`api/v1/user/delete-certification?certification_id=${e}`,"DELETE");if(s)throw s;return a},onSuccess:()=>{u.invalidateQueries(["certificationsData",n?._id]),toast({title:"Success",description:"Certification deleted successfully"})},onError:e=>{toast({title:"Error",description:"Failed to delete certification",variant:"destructive"})}}),handleEdit=e=>{i(e),h({name:e.name,year:e.year,file:null}),a(!0)},handleDelete=e=>{E.mutate(e)};return p?(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Certifications"})}),t.jsx(y.aY,{className:"space-y-4",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx(A.O,{className:"mt-1 h-5 w-5"}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(A.O,{className:"h-4 w-[200px]"}),t.jsx(A.O,{className:"h-4 w-[100px]"})]})]},e))})]}):j?(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Certifications"})}),t.jsx(y.aY,{children:t.jsx("p",{className:"text-red-500",children:"Error loading certifications. Please try again later."})})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Certifications"})}),(0,t.jsxs)(y.aY,{className:"space-y-4",children:[0===x.length?t.jsx("p",{className:"text-muted-foreground",children:"No certifications added yet."}):x.map(e=>(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx(B.Z,{className:"mt-1 h-5 w-5"}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-medium capitalize",children:e.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.year})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(f.z,{variant:"ghost",size:"icon",onClick:()=>handleEdit(e),children:t.jsx(m.Z,{className:"h-4 w-4"})}),t.jsx(f.z,{variant:"ghost",size:"icon",onClick:()=>handleDelete(e._id),children:t.jsx(G.Z,{className:"h-4 w-4"})})]})]},e._id)),(0,t.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>{i(null),h({name:"",year:"",file:null}),a(!0)},children:[t.jsx(v.Z,{className:"h-4 w-4"}),"Add certification"]})]})]}),(0,t.jsxs)(EditModal,{open:e,onOpenChange:a,title:s?"Edit Certification":"Add Certification",description:s?"Update your certification":"Add a new certification",children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"cert-name",children:"Certification Name"}),t.jsx(b.I,{onChange:e=>{h({...o,name:e.target.value})},id:"cert-name",value:o.name})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"cert-year",children:"Year"}),t.jsx(b.I,{onChange:e=>{h({...o,year:e.target.value})},id:"cert-year",value:o.year})]}),(0,t.jsxs)("div",{children:[t.jsx(_._,{htmlFor:"cert-file",children:"Upload Certificate"}),t.jsx(b.I,{onChange:e=>{let a=e.target.files?.[0];a&&h({...o,file:a})},id:"cert-file",type:"file"})]})]}),t.jsx(N.cN,{children:t.jsx(f.z,{onClick:()=>{c(!0),s?S.mutate({...o,certification_id:s._id}):S.mutate(o),c(!1)},type:"submit",children:d?"Saving...":"Save changes"})})]})]})};var V=s(97877);let components_DateOfBirth=()=>{let[e,a]=(0,l.useState)(!1),[s,i]=(0,l.useState)(void 0),[r,n]=(0,l.useState)(new Date),[d,c]=(0,l.useState)(!1),[o,h]=(0,l.useState)(""),{apiRequest:u}=(0,D.Z)(),[x,p]=(0,w.v$)(),handleSave=()=>{update_contact()},handleAddEdit=()=>{a(!0)},update_contact=async()=>{c(!0);let{data:e,error:t}=await u(`api/v1/user/update-profile?id=${x?._id}`,"PUT",{date_of_birth:s});if(c(!1),t){h(t.message);return}e&&((0,w.t1)(e.data),p(e.data),h(""),a(!1))};return(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Date of Birth"})}),t.jsx(y.aY,{className:"space-y-4",children:t.jsx("div",{className:"text-left",children:x?.date_of_birth?(0,t.jsxs)("div",{className:"space-y-2 text-gray-600 dark:text-slate-200",children:[t.jsx("p",{className:"text-sm font-semibold",children:(0,V.ZP)(x?.date_of_birth,"dd MMM, yyyy")}),(0,t.jsxs)(f.z,{onClick:handleAddEdit,variant:"outline",children:[t.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Edit"]})]}):(0,t.jsxs)("div",{children:[t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No data added yet."}),t.jsx("div",{className:"mt-6",children:(0,t.jsxs)(f.z,{variant:"outline",onClick:handleAddEdit,children:[t.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Add Date of Birth"]})})]})})})]}),e&&t.jsx(EditModal,{open:e,onOpenChange:a,title:s?"Edit Date of Birth":"Add Date of Birth",children:(0,t.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),handleSave()},children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(_._,{htmlFor:"calendar",children:"Select Date of Birth*"}),t.jsx(b.I,{type:"date",id:"calendar",name:"calendar",defaultValue:x?.date_of_birth?(0,V.ZP)(x?.date_of_birth,"yyyy-MM-dd"):"",onChange:e=>i(new Date(e.target.value)),required:!0})]}),t.jsx("div",{className:"text-right",children:t.jsx(f.z,{type:"submit",disabled:!s,children:"Save"})})]})})]})};var K=s(16920),W=s(28626);let H=["Bachelor's","Master's","Ph.D.","Associate's","Diploma","HSC","SSC","Vocational","JSC","PSC","Other"],J=Array.from({length:50},(e,a)=>(new Date().getFullYear()-a).toString()),components_Educations=()=>{let[e,a]=(0,l.useState)(!1),[s]=(0,w.v$)(),[i,r]=(0,l.useState)({id:"",country:"",universityName:"","location/board":"",degree:"",major:"",graduationYear:"","gpa/cgpa":""}),{apiRequest:n}=(0,D.Z)(),{data:d=[],isLoading:c,error:o,refetch:h}=(0,C.a)({queryKey:["educations",s?._id],queryFn:async()=>{if(!s?._id)return[];let e=await fetch(`https://server.kalbelajobs.com/api/v1/user/get-education?user_id=${s._id}`);if(!e.ok)throw Error("Failed to fetch education data");let a=await e.json();return a.data},enabled:!!s?._id}),handleEducationAction=async e=>{let t,l="",d="POST";switch(e){case"add":l="api/v1/user/upload-education",t={...i,user_id:s?._id};break;case"edit":l=`api/v1/user/update-education?education_id=${i.id}`,d="PATCH",t={...i,user_id:s?._id};break;case"delete":l=`api/v1/user/delete-education?education_id=${i.id}`,d="DELETE"}let{data:c,error:o}=await n(l,d,t);c&&(h(),a(!1),r({id:"",country:"",universityName:"",degree:"",major:"",graduationYear:"","location/board":"","gpa/cgpa":""}))},openEditModal=e=>{r({id:e._id,country:e.country||"",universityName:e.universityName,degree:e.degree,major:e.major,graduationYear:e.graduationYear,"location/board":e["location/board"]||"","gpa/cgpa":e["gpa/cgpa"]||""}),a(!0)};return(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Education"})}),(0,t.jsxs)(y.aY,{className:"space-y-4",children:[d?.map(e=>t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(K.Z,{className:"mt-1 h-5 w-5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",children:e?.universityName}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.jsx("span",{className:"capitalize",children:e?.degree}),","," ",e?.major]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Graduated ",e?.graduationYear]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(f.z,{variant:"ghost",size:"icon",onClick:()=>openEditModal(e),children:t.jsx(m.Z,{className:"h-4 w-4"})}),t.jsx(f.z,{variant:"ghost",size:"icon",onClick:()=>{r(a=>({...a,id:e._id})),handleEducationAction("delete")},children:t.jsx(G.Z,{className:"h-4 w-4"})})]})]},e._id)),(0,t.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>{r({id:"",country:"",universityName:"",degree:"",major:"",graduationYear:"","location/board":"","gpa/cgpa":""}),a(!0)},children:[t.jsx(m.Z,{className:"h-4 w-4"}),"Add education"]})]})]}),t.jsx(EditModal,{open:e,onOpenChange:a,title:i.id?"Edit Education":"Add Education",description:i.id?"Update your education information":"Add new education information",children:(0,t.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),handleEducationAction(i.id?"edit":"add")},children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"universityName",className:"font-medium",children:"School/College/University Name"}),t.jsx(b.I,{id:"universityName",value:i.universityName,onChange:e=>r(a=>({...a,universityName:e.target.value})),placeholder:"Enter school / college / university name",className:"w-full"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"degree",className:"font-medium",children:"Degree"}),(0,t.jsxs)(q.Ph,{value:i.degree,onValueChange:e=>r(a=>({...a,degree:e})),children:[t.jsx(q.i4,{className:"w-full",children:t.jsx(q.ki,{placeholder:"Select degree"})}),t.jsx(q.Bw,{children:H.map(e=>t.jsx(q.Ql,{value:e.toLowerCase(),children:e},e))})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"graduationYear",className:"font-medium",children:"Year of Graduation"}),(0,t.jsxs)(q.Ph,{value:i.graduationYear,onValueChange:e=>r(a=>({...a,graduationYear:e})),children:[t.jsx(q.i4,{className:"w-full",children:t.jsx(q.ki,{placeholder:"Select year"})}),t.jsx(q.Bw,{children:J.map(e=>t.jsx(q.Ql,{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"major",className:"font-medium",children:"Major"}),t.jsx(b.I,{id:"major",value:i.major,onChange:e=>r(a=>({...a,major:e.target.value})),placeholder:"Enter major",className:"h-10 w-full"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"gpa/cgpa",className:"font-medium",children:"GPA or CGPA"}),t.jsx(b.I,{id:"gpa/cgpa",value:i["gpa/cgpa"],onChange:e=>r(a=>({...a,"gpa/cgpa":e.target.value})),placeholder:"Enter GPA or CGPA",className:"w-full"})]}),t.jsx(W.Z,{className:"mb-2"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"location/board",className:"font-medium",children:"Location / Board"}),t.jsx(b.I,{id:"location/board",value:i["location/board"],onChange:e=>r(a=>({...a,"location/board":e.target.value})),placeholder:"Enter location or board",className:"w-full"})]})]}),t.jsx(N.cN,{className:"pt-4",children:t.jsx(f.z,{type:"submit",className:"w-full sm:w-auto",children:i.id?"Save Changes":"Add Education"})})]})})]})},components_EmergencyContact=()=>{let[e,a]=(0,l.useState)(!1),[s,i]=(0,l.useState)({emergencyEmail:"",emergencyPhone:""}),handleInputChange=(e,a)=>{i(s=>({...s,[e]:a}))},handleSave=()=>{console.log("Emergency Contact Data:",s),a(!1)},handleAddEdit=()=>{a(!0)};return(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Emergency Contact"})}),t.jsx(y.aY,{className:"space-y-4",children:t.jsx("div",{className:"text-left",children:s.emergencyEmail||s.emergencyPhone?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-gray-600 dark:text-slate-200",children:[(0,t.jsxs)("span",{className:"block",children:["Emergency Email: ",s.emergencyEmail||"N/A"]}),(0,t.jsxs)("span",{className:"block",children:["Emergency Phone: ",s.emergencyPhone||"N/A"]})]}),(0,t.jsxs)(f.z,{onClick:handleAddEdit,variant:"outline",children:[t.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Edit Contact"]})]}):(0,t.jsxs)("div",{children:[t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No contact added yet."}),t.jsx("div",{className:"mt-4",children:(0,t.jsxs)(f.z,{variant:"outline",onClick:handleAddEdit,children:[t.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Add Contact"]})})]})})})]}),e&&t.jsx(EditModal,{open:e,onOpenChange:a,title:s.emergencyEmail||s.emergencyPhone?"Edit Emergency Contact":"Add Emergency Contact",children:(0,t.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),handleSave()},children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(_._,{htmlFor:"emergency-email",children:"Emergency Email*"}),t.jsx(b.I,{id:"emergency-email",type:"email",value:s.emergencyEmail,onChange:e=>handleInputChange("emergencyEmail",e.target.value),placeholder:"Enter emergency email"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(_._,{htmlFor:"emergency-phone",children:"Emergency Phone*"}),t.jsx(b.I,{id:"emergency-phone",type:"tel",value:s.emergencyPhone,onChange:e=>handleInputChange("emergencyPhone",e.target.value),placeholder:"Enter emergency phone"})]}),t.jsx("div",{className:"text-right",children:t.jsx(f.z,{type:"submit",children:"Save"})})]})})]})};var X=s(14885),ee=s(68856),ea=s(1264);let es=l.forwardRef(({className:e,...a},s)=>t.jsx(ee.fC,{ref:s,className:(0,T.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...a,children:t.jsx(ee.z$,{className:(0,T.cn)("flex items-center justify-center text-current"),children:t.jsx(ea.Z,{className:"h-4 w-4"})})}));es.displayName=ee.fC.displayName;var et=s(97878);let el=Array.from({length:50},(e,a)=>String(new Date().getFullYear()-a)),components_Experience=()=>{let[e,a]=(0,l.useState)(!1),[s]=(0,w.v$)(),[i,r]=(0,l.useState)({id:"",title:"",employmentType:"",companyName:"",location:"",startDate:{month:"",year:""},currentlyWorking:!1,endDate:{month:"",year:""},description:"",skills:[]}),[n,d]=(0,l.useState)(!1),handleInputChange=(e,a)=>{r(s=>({...s,[e]:a}))},{apiRequest:c}=(0,D.Z)(),{data:o=[],isLoading:h,error:u,refetch:x}=(0,C.a)({queryKey:["experiences",s?._id],queryFn:async()=>{if(!s?._id)return[];let e=await fetch(`https://server.kalbelajobs.com/api/v1/user/get-experience?user_id=${s._id}`);if(!e.ok)throw Error("Failed to fetch experience data");let a=await e.json();return a.data},enabled:!!s?._id}),handleExperienceAction=async e=>{let t,l="",n="POST";switch(e){case"add":l="api/v1/user/upload-experience",t={...i,user_id:s?._id};break;case"edit":l=`api/v1/user/update-experience?experience_id=${i?.id}`,n="PATCH",t={...i,user_id:s?._id};break;case"delete":l=`api/v1/user/delete-experience?experience_id=${i?.id}`,n="DELETE"}let{data:d,error:o}=await c(l,n,t);d&&(x(),a(!1),r({id:"",title:"",employmentType:"",companyName:"",location:"",startDate:{month:"",year:""},currentlyWorking:!1,endDate:{month:"",year:""},description:"",skills:[]}))},openEditModal=e=>{r(e||{id:"",title:"",employmentType:"",companyName:"",location:"",startDate:{month:"",year:""},currentlyWorking:!1,endDate:{month:"",year:""},description:"",skills:[]}),a(!0)},handleSave=()=>{console.log("Form data:",i),handleExperienceAction(i.id?"edit":"add")};return(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Experience"})}),t.jsx(y.aY,{className:"space-y-4",children:h?t.jsx("p",{children:"Loading experiences..."}):u?t.jsx("p",{children:"Error loading experiences. Please try again."}):0===o.length?(0,t.jsxs)("div",{className:"py-8 text-center",children:[t.jsx(K.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),t.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No experiences"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new experience."}),t.jsx("div",{className:"mt-6",children:(0,t.jsxs)(f.z,{onClick:()=>openEditModal(null),children:[t.jsx(X.Z,{className:"mr-2 h-4 w-4"}),"Add experience"]})})]}):(0,t.jsxs)(t.Fragment,{children:[o.map(e=>(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx(K.Z,{className:"mt-1 h-5 w-5"}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-medium",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.companyName,", ",e.location]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.startDate.month," ",e.startDate.year," ","-"," ",e.currentlyWorking?"Present":`${e.endDate?.month} ${e.endDate?.year}`]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(f.z,{variant:"ghost",size:"icon",onClick:()=>openEditModal(e),children:t.jsx(m.Z,{className:"h-4 w-4"})}),t.jsx(f.z,{variant:"ghost",size:"icon",onClick:()=>{r(a=>({...a,id:e._id})),handleExperienceAction("delete")},children:t.jsx(G.Z,{className:"h-4 w-4"})})]})]},e._id)),(0,t.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>openEditModal(null),children:[t.jsx(m.Z,{className:"h-4 w-4"}),"Add Experience"]})]})})]}),e&&t.jsx(EditModal,{open:e,onOpenChange:a,title:i.id?"Edit Experience":"Add Experience",children:(0,t.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),handleSave()},children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(_._,{htmlFor:"title",children:"Title*"}),t.jsx(b.I,{id:"title",value:i.title,onChange:e=>handleInputChange("title",e.target.value),placeholder:"Ex: Retail Sales Manager",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(_._,{htmlFor:"employmentType",children:"Employment Type"}),(0,t.jsxs)(q.Ph,{value:i.employmentType,onValueChange:e=>handleInputChange("employmentType",e),children:[t.jsx(q.i4,{children:t.jsx(q.ki,{placeholder:"Select Employment Type"})}),(0,t.jsxs)(q.Bw,{children:[t.jsx(q.Ql,{value:"Full-Time",children:"Full-Time"}),t.jsx(q.Ql,{value:"Part-Time",children:"Part-Time"}),t.jsx(q.Ql,{value:"Contract",children:"Contract"}),t.jsx(q.Ql,{value:"Freelance",children:"Freelance"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(_._,{htmlFor:"company",children:"Company Name*"}),t.jsx(b.I,{id:"company",value:i.companyName,onChange:e=>handleInputChange("companyName",e.target.value),placeholder:"Company Name",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(_._,{htmlFor:"location",children:"Location"}),t.jsx(b.I,{id:"location",value:i.location,onChange:e=>handleInputChange("location",e.target.value),placeholder:"Location"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(_._,{children:"Start Date*"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)(q.Ph,{value:i.startDate?.month,onValueChange:e=>handleInputChange("startDate",{...i.startDate,month:e}),children:[t.jsx(q.i4,{children:t.jsx(q.ki,{placeholder:"Month"})}),t.jsx(q.Bw,{children:Array.from({length:12},(e,a)=>t.jsx(q.Ql,{value:(0,V.ZP)(new Date(2024,a),"MMMM"),children:(0,V.ZP)(new Date(2024,a),"MMMM")},a))})]}),(0,t.jsxs)(q.Ph,{value:i.startDate?.year,onValueChange:e=>handleInputChange("startDate",{...i.startDate,year:e}),children:[t.jsx(q.i4,{children:t.jsx(q.ki,{placeholder:"Year"})}),t.jsx(q.Bw,{children:el.map(e=>t.jsx(q.Ql,{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(es,{id:"current-position",checked:n,onCheckedChange:e=>{d(e),handleInputChange("currentlyWorking",e)}}),t.jsx(_._,{htmlFor:"current-position",children:"I am currently working in this role"})]}),!n&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(_._,{children:"End Date*"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)(q.Ph,{value:i.endDate?.month,onValueChange:e=>handleInputChange("endDate",{...i.endDate,month:e}),children:[t.jsx(q.i4,{children:t.jsx(q.ki,{placeholder:"Month"})}),t.jsx(q.Bw,{children:Array.from({length:12},(e,a)=>t.jsx(q.Ql,{value:(0,V.ZP)(new Date(2024,a),"MMMM"),children:(0,V.ZP)(new Date(2024,a),"MMMM")},a))})]}),(0,t.jsxs)(q.Ph,{value:i.endDate?.year,onValueChange:e=>handleInputChange("endDate",{...i.endDate,year:e}),children:[t.jsx(q.i4,{children:t.jsx(q.ki,{placeholder:"Year"})}),t.jsx(q.Bw,{children:el.map(e=>t.jsx(q.Ql,{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(_._,{htmlFor:"description",children:"Description"}),t.jsx(et.g,{id:"description",value:i.description,onChange:e=>handleInputChange("description",e.target.value),placeholder:"Write about your experience...",className:"min-h-32 whitespace-pre-wrap"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(_._,{htmlFor:"skills",children:"Skills"}),t.jsx(k.Z,{isMulti:!0,id:"skills",value:i.skills.map(e=>({value:e,label:e})),onChange:e=>handleInputChange("skills",e.map(e=>e.value)),placeholder:"Select skills..."})]}),(0,t.jsxs)(N.cN,{children:[t.jsx(f.z,{type:"submit",children:"Save"}),t.jsx(f.z,{type:"button",variant:"ghost",onClick:()=>a(!1),children:"Cancel"})]})]})})]})},components_Gender=()=>{let[e,a]=(0,l.useState)(!1),[s,i]=(0,l.useState)(""),{apiRequest:r}=(0,D.Z)(),[n,d]=(0,w.v$)(),[c,o]=(0,l.useState)(!1),[h,u]=(0,l.useState)({gender:n?.gender}),handleSave=()=>{update_contact()},handleAddEdit=()=>{o(!0)},update_contact=async()=>{a(!0);let{data:e,error:s}=await r(`api/v1/user/update-profile?id=${n?._id}`,"PUT",{gender:h.gender});if(a(!1),s){i(s.message);return}e&&((0,w.t1)(e.data),d(e.data),i(""),o(!1))};return(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Gender"})}),t.jsx(y.aY,{className:"space-y-4",children:t.jsx("div",{className:"text-left",children:n?.gender?(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-slate-200",children:n?.gender}),(0,t.jsxs)(f.z,{onClick:handleAddEdit,variant:"outline",children:[t.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Edit Gender"]})]}):(0,t.jsxs)("div",{children:[t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No data added yet."}),t.jsx("div",{className:"mt-4",children:(0,t.jsxs)(f.z,{variant:"outline",onClick:handleAddEdit,children:[t.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Add Gender"]})})]})})})]}),c&&t.jsx(EditModal,{open:c,onOpenChange:o,title:h.gender?"Edit Gender":"Add Gender",children:(0,t.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),handleSave()},children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(_._,{htmlFor:"gender",children:"Gender*"}),(0,t.jsxs)(q.Ph,{onValueChange:e=>u(a=>({...a,gender:e})),defaultValue:n?.gender,children:[t.jsx(q.i4,{id:"gender",children:t.jsx(q.ki,{placeholder:"Select gender"})}),(0,t.jsxs)(q.Bw,{children:[t.jsx(q.Ql,{value:"Male",children:"Male"}),t.jsx(q.Ql,{value:"Female",children:"Female"}),t.jsx(q.Ql,{value:"Other",children:"Other"})]})]})]}),t.jsx("div",{className:"text-right",children:t.jsx(f.z,{type:"submit",children:"Save"})})]})})]})};var ei=s(56206);let components_Resume=()=>{let[e,a]=(0,l.useState)(!1),[s,i]=(0,l.useState)(null),[r,n]=(0,l.useState)(""),[d]=(0,w.v$)(),[c,o]=(0,l.useState)(null),{apiRequest:h}=(0,D.Z)(),{data:m=[],isLoading:u,error:x,refetch:p}=(0,C.a)({queryKey:["resumes",d?._id],queryFn:async()=>{if(!d?._id)return[];let e=await fetch(`https://server.kalbelajobs.com/api/v1/user/get-resume?user_id=${d._id}`);if(!e.ok)throw Error("Failed to fetch workspace jobs");let a=await e.json();return a.data},enabled:!!d?._id}),upload_resume=async()=>{if(s){let e=await (0,P.Z)(s);if(e){let{data:s,error:t}=await h("api/v1/user/upload-resume","POST",{resume_url:e,resume_name:r,user_id:d?._id});s&&(p(),a(!1))}}},delete_resume=async e=>{let{data:a,error:s}=await h(`api/v1/user/delete-resume?resume_id=${e}`,"DELETE");a&&p()};return(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Resume"})}),(0,t.jsxs)(y.aY,{className:"space-y-4",children:[u?t.jsx(ResumeSkeleton,{}):0===m.length?t.jsx(Resume_EmptyState,{title:"No resumes uploaded yet",description:"Upload your first resume to get started",icon:t.jsx(j.Z,{className:"h-10 w-10"}),action:(0,t.jsxs)(f.z,{onClick:()=>a(!0),variant:"outline",className:"gap-2",children:[t.jsx(v.Z,{className:"h-4 w-4"}),"Add New Resume"]})}):t.jsx("div",{className:"flex max-w-3xl gap-4 overflow-x-auto pb-4",children:m.map((e,a)=>(0,t.jsxs)("div",{onClick:()=>{o(e.resume_url)},className:"relative flex-shrink-0",children:[t.jsx("div",{className:"absolute bottom-4 left-4 right-4 z-10 max-w-[180px] truncate rounded-md bg-black bg-opacity-75 px-3 py-1 text-center text-white",children:e.resume_name}),t.jsx("button",{onClick:a=>{a.stopPropagation(),delete_resume(e._id)},className:"absolute right-2 top-2 rounded-full bg-gray-100 p-1 transition-colors hover:bg-red-500",children:t.jsx(ei.Z,{className:"h-4 w-4"})}),t.jsx("iframe",{title:`Resume ${a+1}`,src:`${e.resume_url}#toolbar=0`,width:"200px",height:"282px",className:"rounded-lg shadow-md"})]},a))}),!u&&m.length>0&&(0,t.jsxs)(f.z,{onClick:()=>a(!0),variant:"outline",className:"gap-2",children:[t.jsx(v.Z,{className:"h-4 w-4"}),"Add New Resume"]})]})]}),(0,t.jsxs)(EditModal,{open:e,onOpenChange:()=>a(!1),title:"Add New Resume",description:"Upload a new resume to your profile",children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"resumeName",children:"Resume Name"}),t.jsx(b.I,{id:"resumeName",onChange:e=>n(e.target.value),type:"text",placeholder:"e.g., Software Engineer 2023"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"resumeFile",children:"Resume File"}),t.jsx(b.I,{id:"resumeFile",type:"file",accept:".pdf",onChange:e=>{let a=e.target.files?.[0];a&&i(a)}})]})]}),t.jsx(N.cN,{children:t.jsx(f.z,{onClick:upload_resume,type:"submit",children:"Upload Resume"})})]}),t.jsx(EditModal,{title:"Resume Preview",description:"",open:!!c,onOpenChange:()=>o(null),children:t.jsx("div",{className:"h-[485px] w-full",children:t.jsx("iframe",{title:"Resume Preview",src:`${c}#toolbar=0`,width:"100%",height:"100%",className:"rounded-lg"})})})]})},ResumeSkeleton=()=>t.jsx("div",{className:"flex max-w-3xl gap-4 overflow-x-auto pb-4",children:[void 0,void 0,void 0].map((e,a)=>(0,t.jsxs)("div",{className:"relative flex-shrink-0",children:[t.jsx(A.O,{className:"h-[282px] w-[200px] rounded-lg"}),t.jsx(A.O,{className:"absolute bottom-4 left-4 right-4 h-8 rounded-md"})]},a))}),Resume_EmptyState=({title:e,description:a,icon:s,action:l})=>(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg bg-gray-50 p-8 text-center",children:[t.jsx("div",{className:"mb-4 text-gray-400",children:s}),t.jsx("h3",{className:"mb-2 text-lg font-semibold",children:e}),t.jsx("p",{className:"mb-4 text-gray-500",children:a}),l]});var er=s(61890);let components_Skills=()=>{let[e,a]=(0,l.useState)(!1),[s,i]=(0,l.useState)([]),[n,d]=(0,l.useState)(!1),[c]=(0,w.v$)(),o=(0,r.NL)(),{apiRequest:h}=(0,D.Z)(),{data:u=[],isLoading:x,error:p}=(0,C.a)({queryKey:["skills",c?._id],queryFn:async()=>{if(!c?._id)return[];let e=await fetch(`https://server.kalbelajobs.com/api/v1/user/get-skills?user_id=${c._id}`);if(!e.ok)throw Error("Failed to fetch skills");let a=await e.json();return a?.data?(console.log("data",a),a?.data?.map(e=>({value:e,label:e}))):[]},enabled:!!c?._id}),j=(0,$.D)({mutationFn:async e=>{let{data:a,error:s}=await h(`api/v1/user/update-skill?user_id=${c?._id}`,"PUT",{skills:e.map(e=>e.value),user_id:c?._id});if(s)throw s;return a},onSuccess:()=>{o.invalidateQueries(["skills",c?._id]),a(!1),toast({title:"Success",description:"Skills updated successfully"})},onError:e=>{toast({title:"Error",description:"Failed to update skills",variant:"destructive"})}});if(x)return(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Skills and expertise"})}),t.jsx(y.aY,{className:"space-y-4",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4,5].map(e=>t.jsx(A.O,{className:"h-6 w-20"},e))})})]});if(p)return(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Skills and expertise"})}),t.jsx(y.aY,{children:t.jsx("p",{className:"text-red-500",children:"Error loading skills. Please try again later."})})]});let g=u.slice(0,10),b=Math.max(0,u.length-10);return(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Skills and expertise"})}),(0,t.jsxs)(y.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[g.map(e=>t.jsx(er.C,{className:"rounded",variant:"secondary",children:e.label},e.value)),b>0&&(0,t.jsxs)(er.C,{variant:"secondary",className:"cursor-pointer",children:["+",b]})]}),(0,t.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>{i(u),a(!0)},children:[g.length?t.jsx(m.Z,{className:"h-4 w-4"}):t.jsx(v.Z,{className:"h-4 w-4"}),g.length?"Edit skills":"Add skills"]})]})]}),(0,t.jsxs)(EditModal,{open:e,onOpenChange:a,title:"Edit Skills",description:"Update your skills and expertise",children:[t.jsx("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"skills",children:"Skills"}),t.jsx(k.Z,{isMulti:!0,id:"skills",value:s,onChange:e=>i(e),options:u})]})}),t.jsx(N.cN,{children:t.jsx(f.z,{type:"submit",onClick:()=>{d(!0),j.mutate(s),d(!1)},disabled:n,children:n?"Saving...":"Save changes"})})]})]})};var en=s(517),ed=s(51910),ec=s(11922),eo=s(28070);function Calendar({className:e,classNames:a,showOutsideDays:s=!0,...l}){return t.jsx(eo._W,{showOutsideDays:s,className:(0,T.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,T.cn)((0,f.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,T.cn)((0,f.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:({className:e,...a})=>t.jsx(ed.Z,{className:(0,T.cn)("h-4 w-4",e),...a}),IconRight:({className:e,...a})=>t.jsx(ec.Z,{className:(0,T.cn)("h-4 w-4",e),...a})},...l})}Calendar.displayName="Calendar";var eh=s(5494);let fetchNationalities=async()=>{let e=await fetch("https://restcountries.com/v3.1/all"),a=await e.json();return a.sort((e,a)=>e.name.common.localeCompare(a.name.common)).map(e=>({value:e.cca2,label:e.name.common}))},em=[{label:"Passport",value:"passport"},{label:"NID",value:"NID"},{label:"Birth Certificate",value:"birth_certificate"}],components_UserIdentity=()=>{let{theme:e}=(0,I.F)(),a=(0,T.P7)(e||"light"),[s,i]=(0,l.useState)(!1),[r,n]=(0,l.useState)({label:"Bangladesh"}),[d,c]=(0,l.useState)(null),[o,h]=(0,l.useState)(null),[u,x]=(0,l.useState)(null),[p,j]=(0,l.useState)(""),[g,N]=(0,l.useState)(null),{data:w=[],isLoading:S,isError:E}=(0,C.a)({queryKey:["nationalities"],queryFn:fetchNationalities}),handleSave=async()=>{({...d?.label==="NID"&&{back_image:await (0,P.Z)(u)}})};return(0,t.jsxs)("div",{children:[(0,t.jsxs)(y.Zb,{children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Identity"})}),t.jsx(y.aY,{children:r||p||o||g?(0,t.jsxs)("div",{className:"space-y-2 text-gray-600 dark:text-slate-200",children:[(0,t.jsxs)("p",{className:"text-sm font-semibold",children:["Nationality:"," ",r?.label?r?.label:"N/A"]}),(0,t.jsxs)("p",{className:"text-sm font-semibold",children:["NID Number: ",p||"N/A"]}),g?(0,t.jsxs)("p",{className:"text-sm font-semibold",children:["ID Issue Date: ",(0,V.ZP)(g,"dd MMM, yyyy")]}):(0,t.jsxs)("span",{className:"text-sm font-semibold",children:[" ","ID Issue Date: N/A"]}),t.jsx("div",{children:t.jsx("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRz-FiPMV4405HDPHTbRP2tbxaK9ysV02HDLA&s",alt:"NID image"})}),(0,t.jsxs)(f.z,{onClick:()=>i(!0),variant:"outline",children:[t.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Edit"]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-500",children:"No identity added yet."}),(0,t.jsxs)(f.z,{onClick:()=>i(!0),variant:"outline",children:[t.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Add Identity"]})]})})]}),s&&t.jsx(EditModal,{open:s,onOpenChange:i,title:r||p||o||g?"Edit Identity":"Add Identity",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),handleSave()},className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx(_._,{className:"mb-2",htmlFor:"nationality",children:"Select Nationality"}),S?t.jsx("p",{children:"Loading..."}):E?t.jsx("p",{className:"text-red-500",children:"Failed to load nationalities"}):t.jsx(z.ZP,{id:"nationality",className:"text-sm",options:w,value:r,onChange:e=>n(e),isSearchable:!0,placeholder:"Select nationality",styles:a})]}),(0,t.jsxs)("div",{children:[t.jsx(_._,{className:"mb-2",htmlFor:"id-type",children:"Identification Type"}),(0,t.jsxs)("select",{id:"id-type",className:"mt-1.5 w-full p-2 rounded-lg border border-gray-800 text-gray-700 sm:text-sm",onChange:e=>c({value:e.target.value,label:e.target.value}),children:[t.jsx("option",{value:"",children:"Select an option"}),em.map(e=>t.jsx("option",{selected:e.value===d?.value,value:e.value,children:e.label},e.value))]})]}),d?.value?.length?(0,t.jsxs)("div",{children:[(0,t.jsxs)(_._,{className:"mb-2 capitalize",htmlFor:"nid-image",children:["Upload Image of ",d?.value," Front side"]}),t.jsx(b.I,{id:"nid-image",className:"text-sm",type:"file",accept:"image/*",onChange:e=>h(e.target.files?e.target.files[0]:null)})]}):null,d?.value==="NID"&&(0,t.jsxs)("div",{children:[(0,t.jsxs)(_._,{className:"mb-2 capitalize",htmlFor:"nid-image",children:["Upload Image of ",d?.value," Back side"]}),t.jsx(b.I,{id:"nid-image",className:"text-sm",type:"file",accept:"image/*",onChange:e=>x(e.target.files?e.target.files[0]:null)})]}),d?.value.length?(0,t.jsxs)("div",{children:[(0,t.jsxs)(_._,{className:"mb-2 capitalize",htmlFor:"nid-number",children:[d?.value," Number"]}),t.jsx(b.I,{id:"nid-number",className:"text-sm",placeholder:`Enter ${d?.value} number`,type:"text",value:p,onChange:e=>j(e.target.value)})]}):"",d?.value.length?(0,t.jsxs)("div",{className:"flex flex-col justify-start",children:[(0,t.jsxs)(_._,{className:"mb-2 capitalize",htmlFor:"issue-date",children:[d?.value," Issue Date"]}),(0,t.jsxs)(eh.J2,{children:[t.jsx(eh.xo,{asChild:!0,children:(0,t.jsxs)(f.z,{variant:"outline",className:"justify-start text-sm",children:[t.jsx(en.Z,{className:"mr-2"}),g?(0,V.ZP)(g,"PPP"):"Select a date"]})}),t.jsx(eh.yk,{children:t.jsx(Calendar,{className:"text-sm",mode:"single",selected:g,onSelect:N})})]})]}):null,t.jsx("div",{className:"flex justify-end ",children:t.jsx(f.z,{type:"submit",disabled:!r,children:"Save"})})]})})]})};function ProfilePage(){let[e,a]=(0,w.v$)(),[s,i]=(0,l.useState)(!1),[r,n]=(0,l.useState)(!1),[c,S]=(0,l.useState)(!1),[Z,O]=(0,l.useState)(!1),[F,M]=(0,l.useState)(null),[I,z]=(0,l.useState)(null),[T,q]=(0,l.useState)(!1),[U,$]=(0,l.useState)(""),[B,G]=(0,l.useState)(e?.fullName),[Y,L]=(0,l.useState)(e?.languages||[]),[R,Q]=(0,l.useState)(e?.languages),[V,K]=(0,l.useState)(!1),[W,H]=(0,l.useState)(e?.phone),[J,X]=(0,l.useState)(e?.email);(0,l.useEffect)(()=>{Q(e?.languages)},[e?.languages]);let{apiRequest:ee}=(0,D.Z)(),profile_image_update=async()=>{if(q(!0),I){let s=await (0,P.Z)(I);if(s){let{data:t,error:l}=await ee(`api/v1/user/update-profile?id=${e?._id}`,"PUT",{profile_picture:s});if(q(!1),l){$(l.message);return}t&&((0,w.t1)(t.data),a(t.data),$(""),S(!1))}}},user_name_update=async()=>{q(!0);let{data:s,error:t}=await ee(`api/v1/user/update-profile?id=${e?._id}`,"PUT",{fullName:B});if(q(!1),t){$(t.message);return}s&&((0,w.t1)(s.data),a(s.data),$(""),n(!1))},user_languages_update=async()=>{q(!0);let{data:s,error:t}=await ee(`api/v1/user/update-profile?id=${e?._id}`,"PUT",{languages:Y});if(q(!1),t){$(t.message);return}s&&((0,w.t1)(s.data),a(s.data),$(""),O(!1))},update_contact=async()=>{q(!0);let{data:s,error:t}=await ee(`api/v1/user/update-profile?id=${e?._id}`,"PUT",{phone_number:`+${W}`,email:J});if(q(!1),t){$(t.message);return}s&&((0,w.t1)(s.data),a(s.data),$(""),K(!1))},{data:ea=[]}=(0,C.a)({queryKey:["educations_data",e?._id],queryFn:async()=>{if(!e?._id)return[];let a=await fetch(`https://server.kalbelajobs.com/api/v1/user/get-education?user_id=${e._id}`);if(!a.ok)throw Error("Failed to fetch education data");let s=await a.json();return s.data},enabled:!!e?._id}),[es,et]=(0,l.useState)(30);return(0,l.useEffect)(()=>{let a=0;e?.fullName?.length&&(a+=10),e?.email&&(a+=10),e?.phone_number?.length>5&&(a+=10),e?.profile_picture&&(a+=10),e?.languages?.length&&(a+=10),e?.title?.length>1&&(a+=10),e?.description?.length>4&&(a+=10),e?.date_of_birth&&(a+=10),e?.gender&&(a+=10),ea.length&&(a+=10),et(a)},[e?.title,e?.description,e?.fullName,e?.email,e?.phone_number,e?.profile_picture,e?.languages,e?.date_of_birth,e?.gender,ea]),t.jsx("div",{children:(0,t.jsxs)("div",{className:"mb-14 grid grid-cols-1 gap-6 lg:mb-0 lg:grid-cols-[1fr_300px]",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[e?(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"relative",children:(0,t.jsxs)("div",{className:"group relative flex size-20 cursor-pointer items-center justify-center rounded-full",onClick:()=>S(!0),children:[(0,t.jsxs)("div",{className:"relative h-full w-full overflow-hidden rounded-full border-4 border-primary",children:[e?.profile_picture?t.jsx(d(),{src:e.profile_picture||"/placeholder.svg",alt:"Profile Picture",fill:!0,className:"object-scale-down "}):t.jsx("div",{className:"flex h-full w-full items-center justify-center bg-primary text-3xl text-primary-foreground",children:e?.fullName?.[0]?.toUpperCase()||"?"}),t.jsx("div",{className:"absolute inset-0 bg-black/30"})]}),t.jsx("svg",{className:"absolute inset-0 h-full w-full -rotate-90",children:(0,t.jsxs)("svg",{className:"h-24 w-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 96 96",children:[t.jsx("defs",{children:(0,t.jsxs)("linearGradient",{id:"circleGradient",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#3b82f6"})," ",t.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})," "]})}),t.jsx("circle",{className:"text-white",strokeWidth:"6",stroke:"currentColor",fill:"transparent",r:"46",cx:"48",cy:"48"}),t.jsx("circle",{className:"text-blue-500",strokeWidth:"6",strokeDasharray:290,strokeDashoffset:290-290*es/100,strokeLinecap:"round",stroke:"url(#circleGradient)",fill:"transparent",r:"46",cx:"48",cy:"48"})]})}),t.jsx("div",{className:"absolute -bottom-1 flex items-center justify-center rounded-3xl bg-gray-600 px-2 py-0.5 text-primary-foreground shadow-lg",children:100===es?t.jsx(h.Z,{className:"h-4 w-4 fill-current text-[#4493F8]"}):(0,t.jsxs)("span",{className:"text-sm font-medium",children:[es,"%"]})}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-full bg-black bg-opacity-50 opacity-0 transition-opacity group-hover:opacity-100",children:t.jsx("span",{className:"text-sm font-medium text-white",children:"Update"})})]})}),(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[t.jsx("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("h1",{className:"text-2xl font-bold",children:e?.fullName?e?.fullName:"Update Your Name"}),t.jsx(m.Z,{onClick:()=>n(!0),className:"h-4 w-4"})]})}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(u.Z,{className:"h-4 w-4"}),e?.phone_number?e?.phone_number:"Update Phone Number"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(x.Z,{className:"h-4 w-4"}),e?.email?e?.email:"Update Email"]}),t.jsx(m.Z,{onClick:()=>K(!0),className:"h-4 w-4"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(p.Z,{className:"h-4 w-4"}),"Bangladesh"]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-1",children:[t.jsx("div",{className:"flex size-1 items-center rounded-full bg-gray-500"}),t.jsx("span",{children:e?.languages?.length?e?.languages?.join(", "):"Update Languages"}),t.jsx(m.Z,{onClick:()=>O(!0),className:"h-4 w-4"})]})]})]})]}):(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx(A.O,{className:"h-20 w-20 rounded-full"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[t.jsx(A.O,{className:"h-8 w-3/4"}),t.jsx(A.O,{className:"h-4 w-full"}),t.jsx(A.O,{className:"h-4 w-5/6"})]})]}),t.jsx(components_About,{}),t.jsx(components_CareerObjective,{}),t.jsx(components_Resume,{}),t.jsx(components_Educations,{}),t.jsx(components_Experience,{}),t.jsx(components_Certifications,{}),t.jsx(components_Skills,{}),t.jsx(components_Gender,{}),t.jsx(components_DateOfBirth,{}),t.jsx(components_UserIdentity,{}),t.jsx(components_Address,{}),t.jsx(components_EmergencyContact,{}),t.jsx(components_BloodGroup,{}),(0,t.jsxs)(EditModal,{open:r,onOpenChange:n,title:"Edit Name",description:"Update your name",children:[t.jsx("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"name",children:"Name"}),t.jsx(b.I,{onChange:e=>G(e.target.value),id:"name",defaultValue:e?.fullName})]})}),t.jsx(N.cN,{children:t.jsx(f.z,{onClick:user_name_update,type:"submit",children:T?"Updating...":"Save changes"})})]}),(0,t.jsxs)(EditModal,{open:V,onOpenChange:K,title:"Edit Contact Details",description:"Update your contact details",children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"email",children:"Email"}),t.jsx(b.I,{readOnly:!0,required:!0,onChange:e=>X(e.target.value),id:"email",defaultValue:e?.email})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"email",children:"Phone Number"}),t.jsx(E(),{country:"bd",value:W,onChange:e=>H(e),inputProps:{id:"phone",className:"w-full p-2 pl-14 border border-gray-300 rounded-md focus:ring focus:ring-indigo-500"},containerClass:"w-full",buttonClass:"rounded-l-md"})]})]}),t.jsx(N.cN,{children:t.jsx(f.z,{onClick:update_contact,type:"submit",children:T?"Updating...":"Save changes"})})]}),(0,t.jsxs)(EditModal,{open:Z,onOpenChange:O,title:"Edit Languages",description:"Update your languages",children:[t.jsx("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(_._,{htmlFor:"languages",children:"Spoken Languages"}),t.jsx(k.Z,{onChange:e=>{let a=e.map(e=>e.value);L(a),Q(a)},value:R?.map(e=>({value:e,label:e})),isMulti:!0})]})}),t.jsx(N.cN,{children:t.jsx(f.z,{onClick:user_languages_update,type:"submit",children:T?"Updating...":"Save changes"})})]}),(0,t.jsxs)(EditModal,{open:c,onOpenChange:S,title:"Edit Image",description:"Update your profile image",children:[t.jsx("div",{className:"sm:max-w-md",children:t.jsx("div",{className:"space-y-4",children:t.jsx("div",{className:"flex flex-col items-center justify-center gap-4",children:F?(0,t.jsxs)("div",{className:"relative h-32 w-32",children:[t.jsx("img",{src:F,alt:"Preview",className:"h-full w-full rounded-full object-cover"}),t.jsx(f.z,{variant:"outline",size:"sm",className:"absolute right-0 top-0 rounded-full",onClick:()=>M(null),children:""})]}):t.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-full bg-muted",children:t.jsx(j.Z,{className:"h-8 w-8 text-muted-foreground"})})})})}),t.jsx(b.I,{className:"my-4",id:"picture",type:"file",accept:"image/*",onChange:e=>{let a=e.target.files?.[0];if(a){z(a);let e=new FileReader;e.onloadend=()=>{M(e.result)},e.readAsDataURL(a)}}}),t.jsx(N.cN,{children:t.jsx(f.z,{disabled:T,onClick:profile_image_update,type:"submit",className:"bg-blue-500 text-white hover:bg-blue-600",children:T?"Saving...":" Save changes"})})]})]}),(0,t.jsxs)(y.Zb,{className:"group h-fit mb-8",children:[t.jsx(y.Ol,{children:t.jsx(y.ll,{children:"Quick Links"})}),(0,t.jsxs)(y.aY,{children:[(0,t.jsxs)(o(),{href:"#",className:"flex items-center gap-2 text-muted-foreground transition-colors duration-300 ease-in-out hover:text-foreground",children:[t.jsx(g.Z,{className:"h-4 w-4"}),"Portfolio"]}),(0,t.jsxs)("button",{className:"mt-4 hidden scale-95 transform items-center justify-center gap-2 opacity-0 transition-all duration-300 ease-in-out group-hover:flex group-hover:scale-100 group-hover:opacity-100",children:[t.jsx(v.Z,{className:"h-4 w-4"})," Update"]})]})]})]})})}let eu=new i.S,page=()=>t.jsx(r.aH,{client:eu,children:t.jsx(ProfilePage,{})})},92555:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>r,__esModule:()=>i,default:()=>d});var t=s(95153);let l=(0,t.createProxy)(String.raw`/Users/brightfuturesoft/Developer/Kalbela_Jobs/kalbela-jobs-nextjs/app/(dashboard)/user/profile/page.tsx`),{__esModule:i,$$typeof:r}=l,n=l.default,d=n}};var a=require("../../../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),s=a.X(0,[51,9795,1237,1455,4424,754,7820,4343,1343,5645,4191,4449,5978,599,2870,4723,1890,1223,1710,9910],()=>__webpack_exec__(59877));module.exports=s})();