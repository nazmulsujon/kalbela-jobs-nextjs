(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7208],{69057:function(e,l,s){"use strict";s.d(l,{Z:function(){return t}});var a=s(23289);let t=(0,a.Z)("Briefcase",[["rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2",key:"1fj28a"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},37667:function(e,l,s){Promise.resolve().then(s.bind(s,70727))},70727:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return AppliedJobs}});var a=s(57437),t=s(2265),i=s(52114),n=s(41827),o=s(86264),d=s(65958),r=s(81291),c=s(17158),u=s(23611),x=s(49598),v=s(35831),m=s(7532),j=s(63e3),h=s(96142),p=s(69057),b=s(98253),f=s(28203),g=s(70708);function JobCard(e){var l,s,t,i,n,o,d,r,c,u,v,m,j,N,_,y,w;let{job_data:C,key:S,statusColor:Z}=e;return(0,a.jsxs)(x.Zb,{className:"transition-shadow hover:shadow-md",children:[(0,a.jsxs)(x.Ol,{className:"flex flex-row items-center gap-4",children:[(0,a.jsx)("img",{src:null==C?void 0:null===(s=C.job_post)||void 0===s?void 0:null===(l=s.company_info)||void 0===l?void 0:l.logo,alt:"".concat(null==C?void 0:null===(i=C.job_post)||void 0===i?void 0:null===(t=i.company_info)||void 0===t?void 0:t.name," logo"),className:"h-12 w-12 rounded-full border"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(x.ll,{className:"text-xl",children:null==C?void 0:null===(n=C.job_post)||void 0===n?void 0:n.job_title}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:null==C?void 0:null===(d=C.job_post)||void 0===d?void 0:null===(o=d.company_info)||void 0===o?void 0:o.name})]}),(0,a.jsx)(g.C,{className:Z,children:C.status})]}),(0,a.jsx)(x.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{size:16,className:"text-gray-400"}),(0,a.jsx)("span",{className:"text-sm",children:(null==C?void 0:null===(r=C.job_post)||void 0===r?void 0:r.location.remote)?"Remote":(null==C?void 0:null===(c=C.job_post)||void 0===c?void 0:c.location.district)||"Dhaka"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.Z,{size:16,className:"text-gray-400"}),(0,a.jsxs)("span",{className:"text-sm",children:[(null==C?void 0:null===(u=C.job_post)||void 0===u?void 0:u.salary_negotiable)&&"Negotiable",!(null==C?void 0:null===(v=C.job_post)||void 0===v?void 0:v.salary_negotiable)&&(0,a.jsxs)("span",{className:"text-sm",children:[" ",null==C?void 0:null===(j=C.job_post)||void 0===j?void 0:null===(m=j.salary_range)||void 0===m?void 0:m.min," -"," ",null==C?void 0:null===(_=C.job_post)||void 0===_?void 0:null===(N=_.salary_range)||void 0===N?void 0:N.max]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{size:16,className:"text-gray-400"}),(0,a.jsx)("span",{className:"text-sm",children:null==C?void 0:null===(w=C.job_post)||void 0===w?void 0:null===(y=w.company_info)||void 0===y?void 0:y.name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{size:16,className:"text-gray-400"}),(0,a.jsxs)("span",{className:"text-sm",children:["Applied on ",new Date(null==C?void 0:C.created_at).toDateString()]})]})]})}),(0,a.jsx)(x.eW,{className:"flex justify-end",children:(0,a.jsx)("a",{href:"#",className:"text-sm text-blue-600 hover:underline",children:"View Application"})})]},S)}function AppliedJobs(){let[e]=(0,i.v$)(),[l,s]=(0,t.useState)(""),[h,p]=(0,t.useState)("all"),[b,f]=(0,t.useState)("date"),[g,N]=(0,t.useState)(1),{data:_,loading:y,error:w}=(0,j.Z)("user/get-applied-jobs?user_id=".concat(null==e?void 0:e._id,"&page=").concat(g,"&limit=").concat(10),"GET"),[C,S]=(0,t.useState)([]),[Z,z]=(0,t.useState)(0);(0,t.useEffect)(()=>{_&&(S(_.data),z(_.total))},[_]);let getStatusColor=e=>{switch(e){case"Applied":return"bg-blue-100 text-blue-800";case"In Review":return"bg-yellow-100 text-yellow-800";case"Interview":return"bg-purple-100 text-purple-800";case"Offer":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=C.filter(e=>{var s,a,t;return(""===l||(null==e?void 0:null===(t=e.job_post)||void 0===t?void 0:null===(a=t.job_title)||void 0===a?void 0:null===(s=a.toLowerCase())||void 0===s?void 0:s.includes(l.toLowerCase())))&&("all"===h||(null==e?void 0:e.status)===h)}),A=[...k].sort((e,l)=>{var s,a,t,i,n;return"date"===b?new Date(null==l?void 0:null===(s=l.job_post)||void 0===s?void 0:s.posted_date).getTime()-new Date(null==e?void 0:null===(a=e.job_post)||void 0===a?void 0:a.posted_date).getTime():null==e?void 0:null===(n=e.job_post)||void 0===n?void 0:null===(i=n.company_name)||void 0===i?void 0:i.localeCompare(null==l?void 0:null===(t=l.job_post)||void 0===t?void 0:t.company_name)}),Q=Math.ceil(Z/10);return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"mb-6 text-3xl font-bold",children:"Applied Jobs"}),(0,a.jsx)(x.Zb,{className:"mb-6",children:(0,a.jsx)(x.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row",children:[(0,a.jsxs)("div",{className:"relative flex-grow",children:[(0,a.jsx)(v.I,{type:"text",placeholder:"Search jobs...",value:l,onChange:e=>s(e.target.value),className:"pl-10"}),(0,a.jsx)(n.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 transform text-gray-400",size:20})]}),(0,a.jsxs)(m.Ph,{value:h,onValueChange:p,children:[(0,a.jsx)(m.i4,{className:"w-full sm:w-[180px]",children:(0,a.jsx)(m.ki,{placeholder:"Filter by status"})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"all",children:"All Statuses"}),(0,a.jsx)(m.Ql,{value:"Applied",children:"Applied"}),(0,a.jsx)(m.Ql,{value:"In Review",children:"In Review"}),(0,a.jsx)(m.Ql,{value:"Interview",children:"Interview"}),(0,a.jsx)(m.Ql,{value:"Offer",children:"Offer"}),(0,a.jsx)(m.Ql,{value:"Rejected",children:"Rejected"})]})]}),(0,a.jsxs)(m.Ph,{value:b,onValueChange:e=>f(e),children:[(0,a.jsx)(m.i4,{className:"w-full sm:w-[180px]",children:(0,a.jsx)(m.ki,{placeholder:"Sort by"})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"date",children:"Sort by Date"}),(0,a.jsx)(m.Ql,{value:"company",children:"Sort by Company"})]})]})]})})}),y?(0,a.jsx)("div",{className:"flex h-[50vh] items-center justify-center",children:(0,a.jsx)(o.Z,{className:"h-8 w-8 animate-spin text-blue-500"})}):w?(0,a.jsxs)("div",{className:"flex h-[50vh] flex-col items-center justify-center",children:[(0,a.jsx)(d.Z,{className:"mb-4 h-16 w-16 text-red-500"}),(0,a.jsx)("h2",{className:"mb-2 text-2xl font-bold",children:"Something went wrong"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Please try again later."})]}):(0,a.jsx)("div",{className:"space-y-4",children:null==A?void 0:A.map(e=>(0,a.jsx)(JobCard,{job_data:e,statusColor:getStatusColor(e.status)},null==e?void 0:e._id))}),(0,a.jsxs)("div",{className:"mt-8 flex items-center justify-between",children:[(0,a.jsxs)(u.z,{variant:"outline",size:"sm",className:"flex items-center",onClick:()=>N(e=>Math.max(e-1,1)),disabled:1===g,children:[(0,a.jsx)(r.Z,{size:16,className:"mr-2"}),"Previous"]}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["Page ",g," of ",Q]}),(0,a.jsxs)(u.z,{variant:"outline",size:"sm",className:"flex items-center",onClick:()=>N(e=>Math.min(e+1,Q)),disabled:g===Q,children:["Next",(0,a.jsx)(c.Z,{size:16,className:"ml-2"})]})]})]})}}},function(e){e.O(0,[3487,450,1560,3863,4160,8343,7437,7846,2971,2472,1744],function(){return e(e.s=37667)}),_N_E=e.O()}]);