(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4274],{51260:function(e,a,s){Promise.resolve().then(s.bind(s,62582))},62582:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return page}});var l=s(57437),t=s(2265),i=s(78908),n=s(38038),d=s(16691),r=s.n(d),c=s(61396),o=s.n(c),u=s(55340),h=s(53905),m=s(50580),x=s(1295),p=s(96142),j=s(31541),v=s(80820),g=s(9883),f=s(23611),y=s(49598),N=s(62031),b=s(35831),_=s(61465);function EditModal(e){let{open:a,onOpenChange:s,title:t,description:i,children:n}=e;return(0,l.jsx)("div",{className:"",children:(0,l.jsx)(N.Vq,{open:a,onOpenChange:s,children:(0,l.jsx)("form",{children:(0,l.jsxs)(N.cZ,{children:[(0,l.jsxs)(N.fK,{children:[(0,l.jsx)(N.$N,{className:"text-start",children:t}),i&&(0,l.jsx)(N.Be,{className:"text-start",children:i})]}),(0,l.jsx)("div",{className:"z-40 max-h-[500px] overflow-y-auto ",style:{scrollbarWidth:"none"},children:n})]})})})})}s(55323);var w=s(52114),C=s(67663),S=s(15794),E=s.n(S),k=s(89480),A=s(40623),D=s(69816),Z=s(66664),P=s(28811),O=s.n(P),F=s(67972);s(7468);let z=O()(()=>Promise.all([s.e(3070),s.e(6233)]).then(s.t.bind(s,6233,23)),{loadableGenerated:{webpack:()=>[6233]},ssr:!1});var components_About=()=>{var e,a;let[s,i]=(0,w.v$)(),[n,d]=(0,t.useState)(!1),[r,c]=(0,t.useState)(!1),[o,u]=(0,t.useState)(""),[m,x]=(0,t.useState)((null==s?void 0:s.title)||""),[p,j]=(0,t.useState)((null==s?void 0:s.description)||""),{apiRequest:v}=(0,D.Z)(),update_about=async()=>{c(!0);let{data:e,error:a}=await v("api/v1/user/update-profile?id=".concat(null==s?void 0:s._id),"PUT",{title:m,description:p});if(c(!1),a){u(a.message);return}e&&((0,w.t1)(e.data),i(e.data),u(""),d(!1))};if(!s)return(0,l.jsx)(AboutSkeleton,{});let g=(null==s?void 0:null===(e=s.title)||void 0===e?void 0:e.length)===0&&(null==s?void 0:null===(a=s.description)||void 0===a?void 0:a.length)===11;return(0,l.jsxs)("div",{children:[(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"About"})}),(0,l.jsx)(y.aY,{className:"space-y-4",children:g?(0,l.jsx)(EmptyState,{title:"No information added yet",description:"Add your professional title and a brief description about yourself.",icon:(0,l.jsx)(F.Z,{className:"h-10 w-10"}),action:(0,l.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>d(!0),children:[(0,l.jsx)(h.Z,{className:"h-4 w-4"}),"Add details"]})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"font-medium",children:s.title}),(0,l.jsx)("div",{className:"prose max-w-none text-muted-foreground",children:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:s.description}})}),(0,l.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>d(!0),children:[(0,l.jsx)(h.Z,{className:"h-4 w-4"}),"Edit details"]})]})})]}),(0,l.jsxs)(EditModal,{open:n,onOpenChange:d,title:"Edit Details",description:"Update your profile details",children:[(0,l.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"title",children:"Title"}),(0,l.jsx)(b.I,{id:"title",value:m,onChange:e=>x(e.target.value),placeholder:"e.g., Senior Software Engineer"})]}),(0,l.jsxs)("div",{className:"mb-8 grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"about",children:"About"}),(0,l.jsx)(z,{value:p,onChange:e=>{j(e)},placeholder:"Write a brief description about yourself..."})]})]}),o&&(0,l.jsx)("p",{className:"py-4 text-red-500",children:o}),(0,l.jsx)(N.cN,{children:(0,l.jsx)(f.z,{disabled:r,onClick:update_about,type:"submit",children:r?"Updating...":"Update Details"})})]})]})};let AboutSkeleton=()=>(0,l.jsx)("div",{children:(0,l.jsxs)(y.Zb,{className:"",children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"About"})}),(0,l.jsxs)(y.aY,{className:"space-y-4",children:[(0,l.jsx)(A.O,{className:"h-4 w-3/4"}),(0,l.jsx)(A.O,{className:"h-20 w-full"}),(0,l.jsx)(A.O,{className:"h-10 w-40"})]})]})}),EmptyState=e=>{let{title:a,description:s,icon:t,action:i}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center rounded bg-gray-50 p-8 text-center shadow-sm",children:[(0,l.jsx)("div",{className:"mb-4 text-gray-400",children:t}),(0,l.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:a}),(0,l.jsx)("p",{className:"mb-4 text-gray-500",children:s}),i]})};var I=s(6435),M=s(94022),T=s(81628);let fetchCountries=async()=>{let e=await fetch("https://restcountries.com/v3.1/all"),a=await e.json();return a.map(e=>({value:e.cca2,label:e.name.common}))},fetchDivisions=async()=>{let e=await fetch("https://example.com/divisions"),a=await e.json();return a.map(e=>({value:e.id,label:e.name}))},fetchCities=async()=>{let e=await fetch("https://example.com/cities"),a=await e.json();return a.map(e=>({value:e.id,label:e.name}))};var components_Address=()=>{var e,a,s,i,n,d;let{theme:r}=(0,I.F)(),c=(0,T.P7)(r||"light"),[o,u]=(0,t.useState)(!1),[m,x]=(0,t.useState)({presentCountry:null,presentDivision:null,presentCity:null,permanentCountry:null,permanentDivision:null,permanentCity:null}),{data:p=[],isLoading:j}=(0,C.a)({queryKey:["countries"],queryFn:fetchCountries}),{data:v=[],isLoading:N}=(0,C.a)({queryKey:["divisions"],queryFn:fetchDivisions}),{data:b=[],isLoading:w}=(0,C.a)({queryKey:["cities"],queryFn:fetchCities}),handleSave=()=>{console.log("Address data:",m),u(!1)};return(0,l.jsxs)("div",{children:[(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Address"})}),(0,l.jsx)(y.aY,{children:Object.values(m).some(e=>e)?(0,l.jsxs)("div",{className:"space-y-4 text-gray-600 dark:text-slate-200",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Present Address:"}),"".concat((null===(e=m.presentCity)||void 0===e?void 0:e.label)||"N/A",", ").concat((null===(a=m.presentDivision)||void 0===a?void 0:a.label)||"N/A",", ").concat((null===(s=m.presentCountry)||void 0===s?void 0:s.label)||"N/A")]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Permanent Address:"}),"".concat((null===(i=m.permanentCity)||void 0===i?void 0:i.label)||"N/A",", ").concat((null===(n=m.permanentDivision)||void 0===n?void 0:n.label)||"N/A",", ").concat((null===(d=m.permanentCountry)||void 0===d?void 0:d.label)||"N/A")]}),(0,l.jsxs)(f.z,{onClick:()=>u(!0),variant:"outline",children:[(0,l.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Edit Address"]})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"mb-3 text-gray-500",children:"No address added yet."}),(0,l.jsxs)(f.z,{onClick:()=>u(!0),variant:"outline",children:[(0,l.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Add Address"]})]})})]}),o&&(0,l.jsx)(EditModal,{open:o,onOpenChange:u,title:"Edit Address",children:(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),handleSave()},className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(_._,{className:"mb-2",children:"Present Address"}),(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)(M.ZP,{options:p,value:m.presentCountry,onChange:e=>x(a=>({...a,presentCountry:e})),isLoading:j,placeholder:"Select Country",styles:c}),(0,l.jsx)(M.ZP,{options:v,value:m.presentDivision,onChange:e=>x(a=>({...a,presentDivision:e})),isLoading:N,placeholder:"Select Division",styles:c}),(0,l.jsx)(M.ZP,{options:b,value:m.presentCity,onChange:e=>x(a=>({...a,presentCity:e})),isLoading:w,placeholder:"Select City",styles:c})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(_._,{className:"mb-2",children:"Permanent Address"}),(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)(M.ZP,{options:p,value:m.permanentCountry,onChange:e=>x(a=>({...a,permanentCountry:e})),isLoading:j,placeholder:"Select Country",styles:c}),(0,l.jsx)(M.ZP,{options:v,value:m.permanentDivision,onChange:e=>x(a=>({...a,permanentDivision:e})),isLoading:N,placeholder:"Select Division",styles:c}),(0,l.jsx)(M.ZP,{options:b,value:m.permanentCity,onChange:e=>x(a=>({...a,permanentCity:e})),isLoading:w,placeholder:"Select City",styles:c})]})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)(f.z,{type:"submit",children:"Save"})})]})})]})},U=s(7532),components_BloodGroup=()=>{let[e,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)({bloodGroup:""}),handleSave=()=>{console.log("Blood Group data:",s),a(!1)},handleAddEdit=()=>{a(!0)};return(0,l.jsxs)("div",{children:[(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Blood Group"})}),(0,l.jsx)(y.aY,{className:"space-y-4",children:(0,l.jsx)("div",{className:"text-left",children:s.bloodGroup?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("p",{className:"text-sm font-semibold text-gray-600 dark:text-slate-200",children:s.bloodGroup}),(0,l.jsxs)(f.z,{onClick:handleAddEdit,variant:"outline",children:[(0,l.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Edit Blood Group"]})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No data added yet."}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsxs)(f.z,{variant:"outline",onClick:handleAddEdit,children:[(0,l.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Add Blood Group"]})})]})})})]}),e&&(0,l.jsx)(EditModal,{open:e,onOpenChange:a,title:s.bloodGroup?"Edit Blood Group":"Add Blood Group",children:(0,l.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),handleSave()},children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"blood-group",children:"Blood Group*"}),(0,l.jsxs)(U.Ph,{onValueChange:e=>i(a=>({...a,bloodGroup:e})),value:s.bloodGroup,children:[(0,l.jsx)(U.i4,{id:"blood-group",children:(0,l.jsx)(U.ki,{placeholder:"Select blood group"})}),(0,l.jsxs)(U.Bw,{children:[(0,l.jsx)(U.Ql,{value:"A+",children:"A+"}),(0,l.jsx)(U.Ql,{value:"A-",children:"A-"}),(0,l.jsx)(U.Ql,{value:"B+",children:"B+"}),(0,l.jsx)(U.Ql,{value:"B-",children:"B-"}),(0,l.jsx)(U.Ql,{value:"AB+",children:"AB+"}),(0,l.jsx)(U.Ql,{value:"AB-",children:"AB-"}),(0,l.jsx)(U.Ql,{value:"O+",children:"O+"}),(0,l.jsx)(U.Ql,{value:"O-",children:"O-"})]})]})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)(f.z,{type:"submit",children:"Save"})})]})})]})};let B=O()(()=>Promise.all([s.e(3070),s.e(6233)]).then(s.t.bind(s,6233,23)),{loadableGenerated:{webpack:()=>[6233]},ssr:!1});var components_CareerObjective=()=>{let[e,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)("");return(0,l.jsxs)("div",{children:[(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Career Objective"})}),(0,l.jsx)(y.aY,{className:"space-y-4",children:s?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"prose max-w-none text-muted-foreground",children:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:s}})}),(0,l.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>a(!0),children:[(0,l.jsx)(h.Z,{className:"h-4 w-4"}),"Edit details"]})]}):(0,l.jsx)(CareerObjective_EmptyState,{title:"No information added yet",description:"Add a brief description about your career goals.",icon:(0,l.jsx)(F.Z,{className:"h-10 w-10"}),action:(0,l.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>a(!0),children:[(0,l.jsx)(h.Z,{className:"h-4 w-4"}),"Add details"]})})})]}),(0,l.jsxs)(EditModal,{open:e,onOpenChange:a,title:"Edit Career Objective",description:"Update your career objective details",children:[(0,l.jsx)("div",{className:"grid gap-4 py-4",children:(0,l.jsxs)("div",{className:"mb-8 grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"description",children:"Description"}),(0,l.jsx)(B,{value:s,onChange:e=>{i(e)},placeholder:"Write a brief description about your career objective..."})]})}),(0,l.jsx)(N.cN,{children:(0,l.jsx)(f.z,{onClick:()=>{console.log("Career Objective:",s),a(!1)},type:"submit",children:"Update Details"})})]})]})};let CareerObjective_EmptyState=e=>{let{title:a,description:s,icon:t,action:i}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center rounded bg-gray-50 p-8 text-center shadow-sm",children:[(0,l.jsx)("div",{className:"mb-4 text-gray-400",children:t}),(0,l.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:a}),(0,l.jsx)("p",{className:"mb-4 text-gray-500",children:s}),i]})};var G=s(23588),Y=s(22505),L=s(45367);let R=0,Q=new Map,addToRemoveQueue=e=>{if(Q.has(e))return;let a=setTimeout(()=>{Q.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},1e6);Q.set(e,a)},reducer=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?addToRemoveQueue(s):e.toasts.forEach(e=>{addToRemoveQueue(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},q=[],V={toasts:[]};function dispatch(e){V=reducer(V,e),q.forEach(e=>{e(V)})}function toast(e){let{...a}=e,s=(R=(R+1)%Number.MAX_SAFE_INTEGER).toString(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:s});return dispatch({type:"ADD_TOAST",toast:{...a,id:s,open:!0,onOpenChange:e=>{e||dismiss()}}}),{id:s,dismiss,update:e=>dispatch({type:"UPDATE_TOAST",toast:{...e,id:s}})}}var components_Certifications=()=>{let[e,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(null),[d]=(0,w.v$)(),[r,c]=(0,t.useState)(!1),[o,u]=(0,t.useState)({name:"",year:"",file:null}),m=(0,n.NL)(),{data:x=[],isLoading:p,error:j}=(0,C.a)({queryKey:["certificationsData",null==d?void 0:d._id],queryFn:async()=>{if(!(null==d?void 0:d._id))return[];let e=await fetch("".concat("https://server.kalbelajobs.com","/api/v1/user/get-certification?user_id=").concat(d._id));if(!e.ok)throw Error("Failed to fetch certifications");let a=await e.json();return a.data},enabled:!!(null==d?void 0:d._id)}),{apiRequest:v}=(0,D.Z)(),S=(0,G.D)({mutationFn:async e=>{let a=e.certification_id?"api/v1/user/update-certification?certification_id=".concat(e.certification_id):"api/v1/user/upload-certification",s=e.certification_id?"PATCH":"POST",{data:l,error:t}=await v(a,s,{...e,user_id:null==d?void 0:d._id});if(t)throw t;return l},onSuccess:()=>{m.invalidateQueries(["certificationsData",null==d?void 0:d._id]),a(!1),toast({title:"Success",description:s?"Certification updated successfully":"Certification added successfully"})},onError:e=>{toast({title:"Error",description:s?"Failed to update certification":"Failed to add certification",variant:"destructive"})}}),E=(0,G.D)({mutationFn:async e=>{let{data:a,error:s}=await v("api/v1/user/delete-certification?certification_id=".concat(e),"DELETE");if(s)throw s;return a},onSuccess:()=>{m.invalidateQueries(["certificationsData",null==d?void 0:d._id]),toast({title:"Success",description:"Certification deleted successfully"})},onError:e=>{toast({title:"Error",description:"Failed to delete certification",variant:"destructive"})}}),handleEdit=e=>{i(e),u({name:e.name,year:e.year,file:null}),a(!0)},handleDelete=e=>{E.mutate(e)};return p?(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Certifications"})}),(0,l.jsx)(y.aY,{className:"space-y-4",children:[1,2,3].map(e=>(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)(A.O,{className:"mt-1 h-5 w-5"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(A.O,{className:"h-4 w-[200px]"}),(0,l.jsx)(A.O,{className:"h-4 w-[100px]"})]})]},e))})]}):j?(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Certifications"})}),(0,l.jsx)(y.aY,{children:(0,l.jsx)("p",{className:"text-red-500",children:"Error loading certifications. Please try again later."})})]}):(0,l.jsxs)("div",{children:[(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Certifications"})}),(0,l.jsxs)(y.aY,{className:"space-y-4",children:[0===x.length?(0,l.jsx)("p",{className:"text-muted-foreground",children:"No certifications added yet."}):x.map(e=>(0,l.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)(Y.Z,{className:"mt-1 h-5 w-5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium capitalize",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:e.year})]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(f.z,{variant:"ghost",size:"icon",onClick:()=>handleEdit(e),children:(0,l.jsx)(h.Z,{className:"h-4 w-4"})}),(0,l.jsx)(f.z,{variant:"ghost",size:"icon",onClick:()=>handleDelete(e._id),children:(0,l.jsx)(L.Z,{className:"h-4 w-4"})})]})]},e._id)),(0,l.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>{i(null),u({name:"",year:"",file:null}),a(!0)},children:[(0,l.jsx)(g.Z,{className:"h-4 w-4"}),"Add certification"]})]})]}),(0,l.jsxs)(EditModal,{open:e,onOpenChange:a,title:s?"Edit Certification":"Add Certification",description:s?"Update your certification":"Add a new certification",children:[(0,l.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"cert-name",children:"Certification Name"}),(0,l.jsx)(b.I,{onChange:e=>{u({...o,name:e.target.value})},id:"cert-name",value:o.name})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"cert-year",children:"Year"}),(0,l.jsx)(b.I,{onChange:e=>{u({...o,year:e.target.value})},id:"cert-year",value:o.year})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(_._,{htmlFor:"cert-file",children:"Upload Certificate"}),(0,l.jsx)(b.I,{onChange:e=>{var a;let s=null===(a=e.target.files)||void 0===a?void 0:a[0];s&&u({...o,file:s})},id:"cert-file",type:"file"})]})]}),(0,l.jsx)(N.cN,{children:(0,l.jsx)(f.z,{onClick:()=>{c(!0),s?S.mutate({...o,certification_id:s._id}):S.mutate(o),c(!1)},type:"submit",children:r?"Saving...":"Save changes"})})]})]})},K=s(701),components_DateOfBirth=()=>{let[e,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(void 0),[n,d]=(0,t.useState)(new Date),[r,c]=(0,t.useState)(!1),[o,u]=(0,t.useState)(""),{apiRequest:m}=(0,D.Z)(),[x,p]=(0,w.v$)(),handleSave=()=>{update_contact()},handleAddEdit=()=>{a(!0)},update_contact=async()=>{c(!0);let{data:e,error:l}=await m("api/v1/user/update-profile?id=".concat(null==x?void 0:x._id),"PUT",{date_of_birth:s});if(c(!1),l){u(l.message);return}e&&((0,w.t1)(e.data),p(e.data),u(""),a(!1))};return(0,l.jsxs)("div",{children:[(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Date of Birth"})}),(0,l.jsx)(y.aY,{className:"space-y-4",children:(0,l.jsx)("div",{className:"text-left",children:(null==x?void 0:x.date_of_birth)?(0,l.jsxs)("div",{className:"space-y-2 text-gray-600 dark:text-slate-200",children:[(0,l.jsx)("p",{className:"text-sm font-semibold",children:(0,K.ZP)(null==x?void 0:x.date_of_birth,"dd MMM, yyyy")}),(0,l.jsxs)(f.z,{onClick:handleAddEdit,variant:"outline",children:[(0,l.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Edit"]})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No data added yet."}),(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsxs)(f.z,{variant:"outline",onClick:handleAddEdit,children:[(0,l.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Add Date of Birth"]})})]})})})]}),e&&(0,l.jsx)(EditModal,{open:e,onOpenChange:a,title:s?"Edit Date of Birth":"Add Date of Birth",children:(0,l.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),handleSave()},children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"calendar",children:"Select Date of Birth*"}),(0,l.jsx)(b.I,{type:"date",id:"calendar",name:"calendar",defaultValue:(null==x?void 0:x.date_of_birth)?(0,K.ZP)(null==x?void 0:x.date_of_birth,"yyyy-MM-dd"):"",onChange:e=>i(new Date(e.target.value)),required:!0})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)(f.z,{type:"submit",disabled:!s,children:"Save"})})]})})]})},W=s(33344),$=s(99670);let H=["Bachelor's","Master's","Ph.D.","Associate's","Diploma","HSC","SSC","Vocational","JSC","PSC","Other"],J=Array.from({length:50},(e,a)=>(new Date().getFullYear()-a).toString());var components_Educations=()=>{let[e,a]=(0,t.useState)(!1),[s]=(0,w.v$)(),[i,n]=(0,t.useState)({id:"",country:"",universityName:"","location/board":"",degree:"",major:"",graduationYear:"","gpa/cgpa":""}),{apiRequest:d}=(0,D.Z)(),{data:r=[],isLoading:c,error:o,refetch:u}=(0,C.a)({queryKey:["educations",null==s?void 0:s._id],queryFn:async()=>{if(!(null==s?void 0:s._id))return[];let e=await fetch("".concat("https://server.kalbelajobs.com","/api/v1/user/get-education?user_id=").concat(s._id));if(!e.ok)throw Error("Failed to fetch education data");let a=await e.json();return a.data},enabled:!!(null==s?void 0:s._id)}),handleEducationAction=async e=>{let l,t="",r="POST";switch(e){case"add":t="api/v1/user/upload-education",l={...i,user_id:null==s?void 0:s._id};break;case"edit":t="api/v1/user/update-education?education_id=".concat(i.id),r="PATCH",l={...i,user_id:null==s?void 0:s._id};break;case"delete":t="api/v1/user/delete-education?education_id=".concat(i.id),r="DELETE"}let{data:c,error:o}=await d(t,r,l);c&&(u(),a(!1),n({id:"",country:"",universityName:"",degree:"",major:"",graduationYear:"","location/board":"","gpa/cgpa":""}))},openEditModal=e=>{n({id:e._id,country:e.country||"",universityName:e.universityName,degree:e.degree,major:e.major,graduationYear:e.graduationYear,"location/board":e["location/board"]||"","gpa/cgpa":e["gpa/cgpa"]||""}),a(!0)};return(0,l.jsxs)("div",{children:[(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Education"})}),(0,l.jsxs)(y.aY,{className:"space-y-4",children:[null==r?void 0:r.map(e=>(0,l.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)(W.Z,{className:"mt-1 h-5 w-5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium",children:null==e?void 0:e.universityName}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,l.jsx)("span",{className:"capitalize",children:null==e?void 0:e.degree}),","," ",null==e?void 0:e.major]}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Graduated ",null==e?void 0:e.graduationYear]})]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(f.z,{variant:"ghost",size:"icon",onClick:()=>openEditModal(e),children:(0,l.jsx)(h.Z,{className:"h-4 w-4"})}),(0,l.jsx)(f.z,{variant:"ghost",size:"icon",onClick:()=>{n(a=>({...a,id:e._id})),handleEducationAction("delete")},children:(0,l.jsx)(L.Z,{className:"h-4 w-4"})})]})]},e._id)),(0,l.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>{n({id:"",country:"",universityName:"",degree:"",major:"",graduationYear:"","location/board":"","gpa/cgpa":""}),a(!0)},children:[(0,l.jsx)(h.Z,{className:"h-4 w-4"}),"Add education"]})]})]}),(0,l.jsx)(EditModal,{open:e,onOpenChange:a,title:i.id?"Edit Education":"Add Education",description:i.id?"Update your education information":"Add new education information",children:(0,l.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),handleEducationAction(i.id?"edit":"add")},children:[(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"universityName",className:"font-medium",children:"School/College/University Name"}),(0,l.jsx)(b.I,{id:"universityName",value:i.universityName,onChange:e=>n(a=>({...a,universityName:e.target.value})),placeholder:"Enter school / college / university name",className:"w-full"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"degree",className:"font-medium",children:"Degree"}),(0,l.jsxs)(U.Ph,{value:i.degree,onValueChange:e=>n(a=>({...a,degree:e})),children:[(0,l.jsx)(U.i4,{className:"w-full",children:(0,l.jsx)(U.ki,{placeholder:"Select degree"})}),(0,l.jsx)(U.Bw,{children:H.map(e=>(0,l.jsx)(U.Ql,{value:e.toLowerCase(),children:e},e))})]})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"graduationYear",className:"font-medium",children:"Year of Graduation"}),(0,l.jsxs)(U.Ph,{value:i.graduationYear,onValueChange:e=>n(a=>({...a,graduationYear:e})),children:[(0,l.jsx)(U.i4,{className:"w-full",children:(0,l.jsx)(U.ki,{placeholder:"Select year"})}),(0,l.jsx)(U.Bw,{children:J.map(e=>(0,l.jsx)(U.Ql,{value:e,children:e},e))})]})]})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"major",className:"font-medium",children:"Major"}),(0,l.jsx)(b.I,{id:"major",value:i.major,onChange:e=>n(a=>({...a,major:e.target.value})),placeholder:"Enter major",className:"h-10 w-full"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,l.jsxs)("div",{className:"flex items-end gap-2",children:[(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"gpa/cgpa",className:"font-medium",children:"GPA or CGPA"}),(0,l.jsx)(b.I,{id:"gpa/cgpa",value:i["gpa/cgpa"],onChange:e=>n(a=>({...a,"gpa/cgpa":e.target.value})),placeholder:"Enter GPA or CGPA",className:"w-full"})]}),(0,l.jsx)($.Z,{className:"mb-2"})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"location/board",className:"font-medium",children:"Location / Board"}),(0,l.jsx)(b.I,{id:"location/board",value:i["location/board"],onChange:e=>n(a=>({...a,"location/board":e.target.value})),placeholder:"Enter location or board",className:"w-full"})]})]}),(0,l.jsx)(N.cN,{className:"pt-4",children:(0,l.jsx)(f.z,{type:"submit",className:"w-full sm:w-auto",children:i.id?"Save Changes":"Add Education"})})]})})]})},components_EmergencyContact=()=>{let[e,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)({emergencyEmail:"",emergencyPhone:""}),handleInputChange=(e,a)=>{i(s=>({...s,[e]:a}))},handleSave=()=>{console.log("Emergency Contact Data:",s),a(!1)},handleAddEdit=()=>{a(!0)};return(0,l.jsxs)("div",{children:[(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Emergency Contact"})}),(0,l.jsx)(y.aY,{className:"space-y-4",children:(0,l.jsx)("div",{className:"text-left",children:s.emergencyEmail||s.emergencyPhone?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("p",{className:"text-sm font-semibold text-gray-600 dark:text-slate-200",children:[(0,l.jsxs)("span",{className:"block",children:["Emergency Email: ",s.emergencyEmail||"N/A"]}),(0,l.jsxs)("span",{className:"block",children:["Emergency Phone: ",s.emergencyPhone||"N/A"]})]}),(0,l.jsxs)(f.z,{onClick:handleAddEdit,variant:"outline",children:[(0,l.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Edit Contact"]})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No contact added yet."}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsxs)(f.z,{variant:"outline",onClick:handleAddEdit,children:[(0,l.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Add Contact"]})})]})})})]}),e&&(0,l.jsx)(EditModal,{open:e,onOpenChange:a,title:s.emergencyEmail||s.emergencyPhone?"Edit Emergency Contact":"Add Emergency Contact",children:(0,l.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),handleSave()},children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"emergency-email",children:"Emergency Email*"}),(0,l.jsx)(b.I,{id:"emergency-email",type:"email",value:s.emergencyEmail,onChange:e=>handleInputChange("emergencyEmail",e.target.value),placeholder:"Enter emergency email"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"emergency-phone",children:"Emergency Phone*"}),(0,l.jsx)(b.I,{id:"emergency-phone",type:"tel",value:s.emergencyPhone,onChange:e=>handleInputChange("emergencyPhone",e.target.value),placeholder:"Enter emergency phone"})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)(f.z,{type:"submit",children:"Save"})})]})})]})},X=s(91981),ee=s(66062),ea=s(62442);let es=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,l.jsx)(ee.fC,{ref:a,className:(0,T.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:(0,l.jsx)(ee.z$,{className:(0,T.cn)("flex items-center justify-center text-current"),children:(0,l.jsx)(ea.Z,{className:"h-4 w-4"})})})});es.displayName=ee.fC.displayName;var el=s(22147);let et=Array.from({length:50},(e,a)=>String(new Date().getFullYear()-a));var components_Experience=()=>{var e,a,s,i;let[n,d]=(0,t.useState)(!1),[r]=(0,w.v$)(),[c,o]=(0,t.useState)({id:"",title:"",employmentType:"",companyName:"",location:"",startDate:{month:"",year:""},currentlyWorking:!1,endDate:{month:"",year:""},description:"",skills:[]}),[u,m]=(0,t.useState)(!1),handleInputChange=(e,a)=>{o(s=>({...s,[e]:a}))},{apiRequest:x}=(0,D.Z)(),{data:p=[],isLoading:j,error:v,refetch:g}=(0,C.a)({queryKey:["experiences",null==r?void 0:r._id],queryFn:async()=>{if(!(null==r?void 0:r._id))return[];let e=await fetch("".concat("https://server.kalbelajobs.com","/api/v1/user/get-experience?user_id=").concat(r._id));if(!e.ok)throw Error("Failed to fetch experience data");let a=await e.json();return a.data},enabled:!!(null==r?void 0:r._id)}),handleExperienceAction=async e=>{let a,s="",l="POST";switch(e){case"add":s="api/v1/user/upload-experience",a={...c,user_id:null==r?void 0:r._id};break;case"edit":s="api/v1/user/update-experience?experience_id=".concat(null==c?void 0:c.id),l="PATCH",a={...c,user_id:null==r?void 0:r._id};break;case"delete":s="api/v1/user/delete-experience?experience_id=".concat(null==c?void 0:c.id),l="DELETE"}let{data:t,error:i}=await x(s,l,a);t&&(g(),d(!1),o({id:"",title:"",employmentType:"",companyName:"",location:"",startDate:{month:"",year:""},currentlyWorking:!1,endDate:{month:"",year:""},description:"",skills:[]}))},openEditModal=e=>{o(e||{id:"",title:"",employmentType:"",companyName:"",location:"",startDate:{month:"",year:""},currentlyWorking:!1,endDate:{month:"",year:""},description:"",skills:[]}),d(!0)},handleSave=()=>{console.log("Form data:",c),handleExperienceAction(c.id?"edit":"add")};return(0,l.jsxs)("div",{children:[(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Experience"})}),(0,l.jsx)(y.aY,{className:"space-y-4",children:j?(0,l.jsx)("p",{children:"Loading experiences..."}):v?(0,l.jsx)("p",{children:"Error loading experiences. Please try again."}):0===p.length?(0,l.jsxs)("div",{className:"py-8 text-center",children:[(0,l.jsx)(W.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,l.jsx)("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No experiences"}),(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new experience."}),(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsxs)(f.z,{onClick:()=>openEditModal(null),children:[(0,l.jsx)(X.Z,{className:"mr-2 h-4 w-4"}),"Add experience"]})})]}):(0,l.jsxs)(l.Fragment,{children:[p.map(e=>{var a,s;return(0,l.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)(W.Z,{className:"mt-1 h-5 w-5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium",children:e.title}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.companyName,", ",e.location]}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.startDate.month," ",e.startDate.year," ","-"," ",e.currentlyWorking?"Present":"".concat(null===(a=e.endDate)||void 0===a?void 0:a.month," ").concat(null===(s=e.endDate)||void 0===s?void 0:s.year)]})]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(f.z,{variant:"ghost",size:"icon",onClick:()=>openEditModal(e),children:(0,l.jsx)(h.Z,{className:"h-4 w-4"})}),(0,l.jsx)(f.z,{variant:"ghost",size:"icon",onClick:()=>{o(a=>({...a,id:e._id})),handleExperienceAction("delete")},children:(0,l.jsx)(L.Z,{className:"h-4 w-4"})})]})]},e._id)}),(0,l.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>openEditModal(null),children:[(0,l.jsx)(h.Z,{className:"h-4 w-4"}),"Add Experience"]})]})})]}),n&&(0,l.jsx)(EditModal,{open:n,onOpenChange:d,title:c.id?"Edit Experience":"Add Experience",children:(0,l.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),handleSave()},children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"title",children:"Title*"}),(0,l.jsx)(b.I,{id:"title",value:c.title,onChange:e=>handleInputChange("title",e.target.value),placeholder:"Ex: Retail Sales Manager",required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"employmentType",children:"Employment Type"}),(0,l.jsxs)(U.Ph,{value:c.employmentType,onValueChange:e=>handleInputChange("employmentType",e),children:[(0,l.jsx)(U.i4,{children:(0,l.jsx)(U.ki,{placeholder:"Select Employment Type"})}),(0,l.jsxs)(U.Bw,{children:[(0,l.jsx)(U.Ql,{value:"Full-Time",children:"Full-Time"}),(0,l.jsx)(U.Ql,{value:"Part-Time",children:"Part-Time"}),(0,l.jsx)(U.Ql,{value:"Contract",children:"Contract"}),(0,l.jsx)(U.Ql,{value:"Freelance",children:"Freelance"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"company",children:"Company Name*"}),(0,l.jsx)(b.I,{id:"company",value:c.companyName,onChange:e=>handleInputChange("companyName",e.target.value),placeholder:"Company Name",required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"location",children:"Location"}),(0,l.jsx)(b.I,{id:"location",value:c.location,onChange:e=>handleInputChange("location",e.target.value),placeholder:"Location"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{children:"Start Date*"}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)(U.Ph,{value:null===(e=c.startDate)||void 0===e?void 0:e.month,onValueChange:e=>handleInputChange("startDate",{...c.startDate,month:e}),children:[(0,l.jsx)(U.i4,{children:(0,l.jsx)(U.ki,{placeholder:"Month"})}),(0,l.jsx)(U.Bw,{children:Array.from({length:12},(e,a)=>(0,l.jsx)(U.Ql,{value:(0,K.ZP)(new Date(2024,a),"MMMM"),children:(0,K.ZP)(new Date(2024,a),"MMMM")},a))})]}),(0,l.jsxs)(U.Ph,{value:null===(a=c.startDate)||void 0===a?void 0:a.year,onValueChange:e=>handleInputChange("startDate",{...c.startDate,year:e}),children:[(0,l.jsx)(U.i4,{children:(0,l.jsx)(U.ki,{placeholder:"Year"})}),(0,l.jsx)(U.Bw,{children:et.map(e=>(0,l.jsx)(U.Ql,{value:e,children:e},e))})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(es,{id:"current-position",checked:u,onCheckedChange:e=>{m(e),handleInputChange("currentlyWorking",e)}}),(0,l.jsx)(_._,{htmlFor:"current-position",children:"I am currently working in this role"})]}),!u&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{children:"End Date*"}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)(U.Ph,{value:null===(s=c.endDate)||void 0===s?void 0:s.month,onValueChange:e=>handleInputChange("endDate",{...c.endDate,month:e}),children:[(0,l.jsx)(U.i4,{children:(0,l.jsx)(U.ki,{placeholder:"Month"})}),(0,l.jsx)(U.Bw,{children:Array.from({length:12},(e,a)=>(0,l.jsx)(U.Ql,{value:(0,K.ZP)(new Date(2024,a),"MMMM"),children:(0,K.ZP)(new Date(2024,a),"MMMM")},a))})]}),(0,l.jsxs)(U.Ph,{value:null===(i=c.endDate)||void 0===i?void 0:i.year,onValueChange:e=>handleInputChange("endDate",{...c.endDate,year:e}),children:[(0,l.jsx)(U.i4,{children:(0,l.jsx)(U.ki,{placeholder:"Year"})}),(0,l.jsx)(U.Bw,{children:et.map(e=>(0,l.jsx)(U.Ql,{value:e,children:e},e))})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"description",children:"Description"}),(0,l.jsx)(el.g,{id:"description",value:c.description,onChange:e=>handleInputChange("description",e.target.value),placeholder:"Write about your experience...",className:"min-h-32 whitespace-pre-wrap"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"skills",children:"Skills"}),(0,l.jsx)(k.Z,{isMulti:!0,id:"skills",value:c.skills.map(e=>({value:e,label:e})),onChange:e=>handleInputChange("skills",e.map(e=>e.value)),placeholder:"Select skills..."})]}),(0,l.jsxs)(N.cN,{children:[(0,l.jsx)(f.z,{type:"submit",children:"Save"}),(0,l.jsx)(f.z,{type:"button",variant:"ghost",onClick:()=>d(!1),children:"Cancel"})]})]})})]})},components_Gender=()=>{let[e,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(""),{apiRequest:n}=(0,D.Z)(),[d,r]=(0,w.v$)(),[c,o]=(0,t.useState)(!1),[u,m]=(0,t.useState)({gender:null==d?void 0:d.gender}),handleSave=()=>{update_contact()},handleAddEdit=()=>{o(!0)},update_contact=async()=>{a(!0);let{data:e,error:s}=await n("api/v1/user/update-profile?id=".concat(null==d?void 0:d._id),"PUT",{gender:u.gender});if(a(!1),s){i(s.message);return}e&&((0,w.t1)(e.data),r(e.data),i(""),o(!1))};return(0,l.jsxs)("div",{children:[(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Gender"})}),(0,l.jsx)(y.aY,{className:"space-y-4",children:(0,l.jsx)("div",{className:"text-left",children:(null==d?void 0:d.gender)?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("p",{className:"text-sm font-semibold text-gray-600 dark:text-slate-200",children:null==d?void 0:d.gender}),(0,l.jsxs)(f.z,{onClick:handleAddEdit,variant:"outline",children:[(0,l.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Edit Gender"]})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No data added yet."}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsxs)(f.z,{variant:"outline",onClick:handleAddEdit,children:[(0,l.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Add Gender"]})})]})})})]}),c&&(0,l.jsx)(EditModal,{open:c,onOpenChange:o,title:u.gender?"Edit Gender":"Add Gender",children:(0,l.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),handleSave()},children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"gender",children:"Gender*"}),(0,l.jsxs)(U.Ph,{onValueChange:e=>m(a=>({...a,gender:e})),defaultValue:null==d?void 0:d.gender,children:[(0,l.jsx)(U.i4,{id:"gender",children:(0,l.jsx)(U.ki,{placeholder:"Select gender"})}),(0,l.jsxs)(U.Bw,{children:[(0,l.jsx)(U.Ql,{value:"Male",children:"Male"}),(0,l.jsx)(U.Ql,{value:"Female",children:"Female"}),(0,l.jsx)(U.Ql,{value:"Other",children:"Other"})]})]})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)(f.z,{type:"submit",children:"Save"})})]})})]})},ei=s(82549),components_Resume=()=>{let[e,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(null),[n,d]=(0,t.useState)(""),[r]=(0,w.v$)(),[c,o]=(0,t.useState)(null),{apiRequest:u}=(0,D.Z)(),{data:h=[],isLoading:m,error:x,refetch:p}=(0,C.a)({queryKey:["resumes",null==r?void 0:r._id],queryFn:async()=>{if(!(null==r?void 0:r._id))return[];let e=await fetch("".concat("https://server.kalbelajobs.com","/api/v1/user/get-resume?user_id=").concat(r._id));if(!e.ok)throw Error("Failed to fetch workspace jobs");let a=await e.json();return a.data},enabled:!!(null==r?void 0:r._id)}),upload_resume=async()=>{if(s){let e=await (0,Z.Z)(s);if(e){let{data:s,error:l}=await u("api/v1/user/upload-resume","POST",{resume_url:e,resume_name:n,user_id:null==r?void 0:r._id});s&&(p(),a(!1))}}},delete_resume=async e=>{let{data:a,error:s}=await u("api/v1/user/delete-resume?resume_id=".concat(e),"DELETE");a&&p()};return(0,l.jsxs)("div",{children:[(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Resume"})}),(0,l.jsxs)(y.aY,{className:"space-y-4",children:[m?(0,l.jsx)(ResumeSkeleton,{}):0===h.length?(0,l.jsx)(Resume_EmptyState,{title:"No resumes uploaded yet",description:"Upload your first resume to get started",icon:(0,l.jsx)(j.Z,{className:"h-10 w-10"}),action:(0,l.jsxs)(f.z,{onClick:()=>a(!0),variant:"outline",className:"gap-2",children:[(0,l.jsx)(g.Z,{className:"h-4 w-4"}),"Add New Resume"]})}):(0,l.jsx)("div",{className:"flex max-w-3xl gap-4 overflow-x-auto pb-4",children:h.map((e,a)=>(0,l.jsxs)("div",{onClick:()=>{o(e.resume_url)},className:"relative flex-shrink-0",children:[(0,l.jsx)("div",{className:"absolute bottom-4 left-4 right-4 z-10 max-w-[180px] truncate rounded-md bg-black bg-opacity-75 px-3 py-1 text-center text-white",children:e.resume_name}),(0,l.jsx)("button",{onClick:a=>{a.stopPropagation(),delete_resume(e._id)},className:"absolute right-2 top-2 rounded-full bg-gray-100 p-1 transition-colors hover:bg-red-500",children:(0,l.jsx)(ei.Z,{className:"h-4 w-4"})}),(0,l.jsx)("iframe",{title:"Resume ".concat(a+1),src:"".concat(e.resume_url,"#toolbar=0"),width:"200px",height:"282px",className:"rounded-lg shadow-md"})]},a))}),!m&&h.length>0&&(0,l.jsxs)(f.z,{onClick:()=>a(!0),variant:"outline",className:"gap-2",children:[(0,l.jsx)(g.Z,{className:"h-4 w-4"}),"Add New Resume"]})]})]}),(0,l.jsxs)(EditModal,{open:e,onOpenChange:()=>a(!1),title:"Add New Resume",description:"Upload a new resume to your profile",children:[(0,l.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"resumeName",children:"Resume Name"}),(0,l.jsx)(b.I,{id:"resumeName",onChange:e=>d(e.target.value),type:"text",placeholder:"e.g., Software Engineer 2023"})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"resumeFile",children:"Resume File"}),(0,l.jsx)(b.I,{id:"resumeFile",type:"file",accept:".pdf",onChange:e=>{var a;let s=null===(a=e.target.files)||void 0===a?void 0:a[0];s&&i(s)}})]})]}),(0,l.jsx)(N.cN,{children:(0,l.jsx)(f.z,{onClick:upload_resume,type:"submit",children:"Upload Resume"})})]}),(0,l.jsx)(EditModal,{title:"Resume Preview",description:"",open:!!c,onOpenChange:()=>o(null),children:(0,l.jsx)("div",{className:"h-[485px] w-full",children:(0,l.jsx)("iframe",{title:"Resume Preview",src:"".concat(c,"#toolbar=0"),width:"100%",height:"100%",className:"rounded-lg"})})})]})};let ResumeSkeleton=()=>(0,l.jsx)("div",{className:"flex max-w-3xl gap-4 overflow-x-auto pb-4",children:[void 0,void 0,void 0].map((e,a)=>(0,l.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,l.jsx)(A.O,{className:"h-[282px] w-[200px] rounded-lg"}),(0,l.jsx)(A.O,{className:"absolute bottom-4 left-4 right-4 h-8 rounded-md"})]},a))}),Resume_EmptyState=e=>{let{title:a,description:s,icon:t,action:i}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg bg-gray-50 p-8 text-center",children:[(0,l.jsx)("div",{className:"mb-4 text-gray-400",children:t}),(0,l.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:a}),(0,l.jsx)("p",{className:"mb-4 text-gray-500",children:s}),i]})};var en=s(70708),components_Skills=()=>{let[e,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)([]),[d,r]=(0,t.useState)(!1),[c]=(0,w.v$)(),o=(0,n.NL)(),{apiRequest:u}=(0,D.Z)(),{data:m=[],isLoading:x,error:p}=(0,C.a)({queryKey:["skills",null==c?void 0:c._id],queryFn:async()=>{var e;if(!(null==c?void 0:c._id))return[];let a=await fetch("".concat("https://server.kalbelajobs.com","/api/v1/user/get-skills?user_id=").concat(c._id));if(!a.ok)throw Error("Failed to fetch skills");let s=await a.json();return(null==s?void 0:s.data)?(console.log("data",s),null==s?void 0:null===(e=s.data)||void 0===e?void 0:e.map(e=>({value:e,label:e}))):[]},enabled:!!(null==c?void 0:c._id)}),j=(0,G.D)({mutationFn:async e=>{let{data:a,error:s}=await u("api/v1/user/update-skill?user_id=".concat(null==c?void 0:c._id),"PUT",{skills:e.map(e=>e.value),user_id:null==c?void 0:c._id});if(s)throw s;return a},onSuccess:()=>{o.invalidateQueries(["skills",null==c?void 0:c._id]),a(!1),toast({title:"Success",description:"Skills updated successfully"})},onError:e=>{toast({title:"Error",description:"Failed to update skills",variant:"destructive"})}});if(x)return(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Skills and expertise"})}),(0,l.jsx)(y.aY,{className:"space-y-4",children:(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4,5].map(e=>(0,l.jsx)(A.O,{className:"h-6 w-20"},e))})})]});if(p)return(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Skills and expertise"})}),(0,l.jsx)(y.aY,{children:(0,l.jsx)("p",{className:"text-red-500",children:"Error loading skills. Please try again later."})})]});let v=m.slice(0,10),b=Math.max(0,m.length-10);return(0,l.jsxs)("div",{children:[(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Skills and expertise"})}),(0,l.jsxs)(y.aY,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[v.map(e=>(0,l.jsx)(en.C,{className:"rounded",variant:"secondary",children:e.label},e.value)),b>0&&(0,l.jsxs)(en.C,{variant:"secondary",className:"cursor-pointer",children:["+",b]})]}),(0,l.jsxs)(f.z,{variant:"outline",className:"gap-2",onClick:()=>{i(m),a(!0)},children:[v.length?(0,l.jsx)(h.Z,{className:"h-4 w-4"}):(0,l.jsx)(g.Z,{className:"h-4 w-4"}),v.length?"Edit skills":"Add skills"]})]})]}),(0,l.jsxs)(EditModal,{open:e,onOpenChange:a,title:"Edit Skills",description:"Update your skills and expertise",children:[(0,l.jsx)("div",{className:"grid gap-4 py-4",children:(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"skills",children:"Skills"}),(0,l.jsx)(k.Z,{isMulti:!0,id:"skills",value:s,onChange:e=>i(e),options:m})]})}),(0,l.jsx)(N.cN,{children:(0,l.jsx)(f.z,{type:"submit",onClick:()=>{r(!0),j.mutate(s),r(!1)},disabled:d,children:d?"Saving...":"Save changes"})})]})]})},ed=s(28203),er=s(81291),ec=s(17158),eo=s(13842);function Calendar(e){let{className:a,classNames:s,showOutsideDays:t=!0,...i}=e;return(0,l.jsx)(eo._W,{showOutsideDays:t,className:(0,T.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,T.cn)((0,f.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,T.cn)((0,f.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:e=>{let{className:a,...s}=e;return(0,l.jsx)(er.Z,{className:(0,T.cn)("h-4 w-4",a),...s})},IconRight:e=>{let{className:a,...s}=e;return(0,l.jsx)(ec.Z,{className:(0,T.cn)("h-4 w-4",a),...s})}},...i})}Calendar.displayName="Calendar";var eu=s(98266);let fetchNationalities=async()=>{let e=await fetch("https://restcountries.com/v3.1/all"),a=await e.json();return a.sort((e,a)=>e.name.common.localeCompare(a.name.common)).map(e=>({value:e.cca2,label:e.name.common}))},eh=[{label:"Passport",value:"passport"},{label:"NID",value:"NID"},{label:"Birth Certificate",value:"birth_certificate"}];var components_UserIdentity=()=>{var e;let{theme:a}=(0,I.F)(),s=(0,T.P7)(a||"light"),[i,n]=(0,t.useState)(!1),[d,r]=(0,t.useState)({label:"Bangladesh"}),[c,o]=(0,t.useState)(null),[u,m]=(0,t.useState)(null),[x,p]=(0,t.useState)(null),[j,v]=(0,t.useState)(""),[N,w]=(0,t.useState)(null),{data:S=[],isLoading:E,isError:k}=(0,C.a)({queryKey:["nationalities"],queryFn:fetchNationalities}),handleSave=async()=>{({...(null==c?void 0:c.label)==="NID"&&{back_image:await (0,Z.Z)(x)}})};return(0,l.jsxs)("div",{children:[(0,l.jsxs)(y.Zb,{children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Identity"})}),(0,l.jsx)(y.aY,{children:d||j||u||N?(0,l.jsxs)("div",{className:"space-y-2 text-gray-600 dark:text-slate-200",children:[(0,l.jsxs)("p",{className:"text-sm font-semibold",children:["Nationality:"," ",(null==d?void 0:d.label)?null==d?void 0:d.label:"N/A"]}),(0,l.jsxs)("p",{className:"text-sm font-semibold",children:["NID Number: ",j||"N/A"]}),N?(0,l.jsxs)("p",{className:"text-sm font-semibold",children:["ID Issue Date: ",(0,K.ZP)(N,"dd MMM, yyyy")]}):(0,l.jsxs)("span",{className:"text-sm font-semibold",children:[" ","ID Issue Date: N/A"]}),(0,l.jsx)("div",{children:(0,l.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRz-FiPMV4405HDPHTbRP2tbxaK9ysV02HDLA&s",alt:"NID image"})}),(0,l.jsxs)(f.z,{onClick:()=>n(!0),variant:"outline",children:[(0,l.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Edit"]})]}):(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-gray-500",children:"No identity added yet."}),(0,l.jsxs)(f.z,{onClick:()=>n(!0),variant:"outline",children:[(0,l.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Add Identity"]})]})})]}),i&&(0,l.jsx)(EditModal,{open:i,onOpenChange:n,title:d||j||u||N?"Edit Identity":"Add Identity",children:(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),handleSave()},className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(_._,{className:"mb-2",htmlFor:"nationality",children:"Select Nationality"}),E?(0,l.jsx)("p",{children:"Loading..."}):k?(0,l.jsx)("p",{className:"text-red-500",children:"Failed to load nationalities"}):(0,l.jsx)(M.ZP,{id:"nationality",className:"text-sm",options:S,value:d,onChange:e=>r(e),isSearchable:!0,placeholder:"Select nationality",styles:s})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(_._,{className:"mb-2",htmlFor:"id-type",children:"Identification Type"}),(0,l.jsxs)("select",{id:"id-type",className:"mt-1.5 w-full p-2 rounded-lg border border-gray-800 text-gray-700 sm:text-sm",onChange:e=>o({value:e.target.value,label:e.target.value}),children:[(0,l.jsx)("option",{value:"",children:"Select an option"}),eh.map(e=>(0,l.jsx)("option",{selected:e.value===(null==c?void 0:c.value),value:e.value,children:e.label},e.value))]})]}),(null==c?void 0:null===(e=c.value)||void 0===e?void 0:e.length)?(0,l.jsxs)("div",{children:[(0,l.jsxs)(_._,{className:"mb-2 capitalize",htmlFor:"nid-image",children:["Upload Image of ",null==c?void 0:c.value," Front side"]}),(0,l.jsx)(b.I,{id:"nid-image",className:"text-sm",type:"file",accept:"image/*",onChange:e=>m(e.target.files?e.target.files[0]:null)})]}):null,(null==c?void 0:c.value)==="NID"&&(0,l.jsxs)("div",{children:[(0,l.jsxs)(_._,{className:"mb-2 capitalize",htmlFor:"nid-image",children:["Upload Image of ",null==c?void 0:c.value," Back side"]}),(0,l.jsx)(b.I,{id:"nid-image",className:"text-sm",type:"file",accept:"image/*",onChange:e=>p(e.target.files?e.target.files[0]:null)})]}),(null==c?void 0:c.value.length)?(0,l.jsxs)("div",{children:[(0,l.jsxs)(_._,{className:"mb-2 capitalize",htmlFor:"nid-number",children:[null==c?void 0:c.value," Number"]}),(0,l.jsx)(b.I,{id:"nid-number",className:"text-sm",placeholder:"Enter ".concat(null==c?void 0:c.value," number"),type:"text",value:j,onChange:e=>v(e.target.value)})]}):"",(null==c?void 0:c.value.length)?(0,l.jsxs)("div",{className:"flex flex-col justify-start",children:[(0,l.jsxs)(_._,{className:"mb-2 capitalize",htmlFor:"issue-date",children:[null==c?void 0:c.value," Issue Date"]}),(0,l.jsxs)(eu.J2,{children:[(0,l.jsx)(eu.xo,{asChild:!0,children:(0,l.jsxs)(f.z,{variant:"outline",className:"justify-start text-sm",children:[(0,l.jsx)(ed.Z,{className:"mr-2"}),N?(0,K.ZP)(N,"PPP"):"Select a date"]})}),(0,l.jsx)(eu.yk,{children:(0,l.jsx)(Calendar,{className:"text-sm",mode:"single",selected:N,onSelect:w})})]})]}):null,(0,l.jsx)("div",{className:"flex justify-end ",children:(0,l.jsx)(f.z,{type:"submit",disabled:!d,children:"Save"})})]})})]})};function ProfilePage(){var e,a,s,i;let[n,d]=(0,w.v$)(),[c,S]=(0,t.useState)(!1),[P,O]=(0,t.useState)(!1),[F,z]=(0,t.useState)(!1),[I,M]=(0,t.useState)(!1),[T,U]=(0,t.useState)(null),[B,G]=(0,t.useState)(null),[Y,L]=(0,t.useState)(!1),[R,Q]=(0,t.useState)(""),[q,V]=(0,t.useState)(null==n?void 0:n.fullName),[K,W]=(0,t.useState)((null==n?void 0:n.languages)||[]),[$,H]=(0,t.useState)(null==n?void 0:n.languages),[J,X]=(0,t.useState)(!1),[ee,ea]=(0,t.useState)(null==n?void 0:n.phone),[es,el]=(0,t.useState)(null==n?void 0:n.email);(0,t.useEffect)(()=>{H(null==n?void 0:n.languages)},[null==n?void 0:n.languages]);let{apiRequest:et}=(0,D.Z)(),profile_image_update=async()=>{if(L(!0),B){let e=await (0,Z.Z)(B);if(e){let{data:a,error:s}=await et("api/v1/user/update-profile?id=".concat(null==n?void 0:n._id),"PUT",{profile_picture:e});if(L(!1),s){Q(s.message);return}a&&((0,w.t1)(a.data),d(a.data),Q(""),z(!1))}}},user_name_update=async()=>{L(!0);let{data:e,error:a}=await et("api/v1/user/update-profile?id=".concat(null==n?void 0:n._id),"PUT",{fullName:q});if(L(!1),a){Q(a.message);return}e&&((0,w.t1)(e.data),d(e.data),Q(""),O(!1))},user_languages_update=async()=>{L(!0);let{data:e,error:a}=await et("api/v1/user/update-profile?id=".concat(null==n?void 0:n._id),"PUT",{languages:K});if(L(!1),a){Q(a.message);return}e&&((0,w.t1)(e.data),d(e.data),Q(""),M(!1))},update_contact=async()=>{L(!0);let{data:e,error:a}=await et("api/v1/user/update-profile?id=".concat(null==n?void 0:n._id),"PUT",{phone_number:"+".concat(ee),email:es});if(L(!1),a){Q(a.message);return}e&&((0,w.t1)(e.data),d(e.data),Q(""),X(!1))},{data:ei=[]}=(0,C.a)({queryKey:["educations_data",null==n?void 0:n._id],queryFn:async()=>{if(!(null==n?void 0:n._id))return[];let e=await fetch("".concat("https://server.kalbelajobs.com","/api/v1/user/get-education?user_id=").concat(n._id));if(!e.ok)throw Error("Failed to fetch education data");let a=await e.json();return a.data},enabled:!!(null==n?void 0:n._id)}),[en,ed]=(0,t.useState)(30);return(0,t.useEffect)(()=>{var e,a,s,l,t;let i=0;(null==n?void 0:null===(e=n.fullName)||void 0===e?void 0:e.length)&&(i+=10),(null==n?void 0:n.email)&&(i+=10),(null==n?void 0:null===(a=n.phone_number)||void 0===a?void 0:a.length)>5&&(i+=10),(null==n?void 0:n.profile_picture)&&(i+=10),(null==n?void 0:null===(s=n.languages)||void 0===s?void 0:s.length)&&(i+=10),(null==n?void 0:null===(l=n.title)||void 0===l?void 0:l.length)>1&&(i+=10),(null==n?void 0:null===(t=n.description)||void 0===t?void 0:t.length)>4&&(i+=10),(null==n?void 0:n.date_of_birth)&&(i+=10),(null==n?void 0:n.gender)&&(i+=10),ei.length&&(i+=10),ed(i)},[null==n?void 0:n.title,null==n?void 0:n.description,null==n?void 0:n.fullName,null==n?void 0:n.email,null==n?void 0:n.phone_number,null==n?void 0:n.profile_picture,null==n?void 0:n.languages,null==n?void 0:n.date_of_birth,null==n?void 0:n.gender,ei]),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"mb-14 grid grid-cols-1 gap-6 lg:mb-0 lg:grid-cols-[1fr_300px]",children:[(0,l.jsxs)("div",{className:"space-y-6",children:[n?(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("div",{className:"group relative flex size-20 cursor-pointer items-center justify-center rounded-full",onClick:()=>z(!0),children:[(0,l.jsxs)("div",{className:"relative h-full w-full overflow-hidden rounded-full border-4 border-primary",children:[(null==n?void 0:n.profile_picture)?(0,l.jsx)(r(),{src:n.profile_picture||"/placeholder.svg",alt:"Profile Picture",fill:!0,className:"object-scale-down "}):(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center bg-primary text-3xl text-primary-foreground",children:(null==n?void 0:null===(a=n.fullName)||void 0===a?void 0:null===(e=a[0])||void 0===e?void 0:e.toUpperCase())||"?"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black/30"})]}),(0,l.jsx)("svg",{className:"absolute inset-0 h-full w-full -rotate-90",children:(0,l.jsxs)("svg",{className:"h-24 w-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 96 96",children:[(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:"circleGradient",x1:"0",y1:"0",x2:"1",y2:"1",children:[(0,l.jsx)("stop",{offset:"0%",stopColor:"#3b82f6"})," ",(0,l.jsx)("stop",{offset:"100%",stopColor:"#8b5cf6"})," "]})}),(0,l.jsx)("circle",{className:"text-white",strokeWidth:"6",stroke:"currentColor",fill:"transparent",r:"46",cx:"48",cy:"48"}),(0,l.jsx)("circle",{className:"text-blue-500",strokeWidth:"6",strokeDasharray:290,strokeDashoffset:290-290*en/100,strokeLinecap:"round",stroke:"url(#circleGradient)",fill:"transparent",r:"46",cx:"48",cy:"48"})]})}),(0,l.jsx)("div",{className:"absolute -bottom-1 flex items-center justify-center rounded-3xl bg-gray-600 px-2 py-0.5 text-primary-foreground shadow-lg",children:100===en?(0,l.jsx)(u.Z,{className:"h-4 w-4 fill-current text-[#4493F8]"}):(0,l.jsxs)("span",{className:"text-sm font-medium",children:[en,"%"]})}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-full bg-black bg-opacity-50 opacity-0 transition-opacity group-hover:opacity-100",children:(0,l.jsx)("span",{className:"text-sm font-medium text-white",children:"Update"})})]})}),(0,l.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:(null==n?void 0:n.fullName)?null==n?void 0:n.fullName:"Update Your Name"}),(0,l.jsx)(h.Z,{onClick:()=>O(!0),className:"h-4 w-4"})]})}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(m.Z,{className:"h-4 w-4"}),(null==n?void 0:n.phone_number)?null==n?void 0:n.phone_number:"Update Phone Number"]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(x.Z,{className:"h-4 w-4"}),(null==n?void 0:n.email)?null==n?void 0:n.email:"Update Email"]}),(0,l.jsx)(h.Z,{onClick:()=>X(!0),className:"h-4 w-4"})]}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(p.Z,{className:"h-4 w-4"}),"Bangladesh"]}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-1",children:[(0,l.jsx)("div",{className:"flex size-1 items-center rounded-full bg-gray-500"}),(0,l.jsx)("span",{children:(null==n?void 0:null===(s=n.languages)||void 0===s?void 0:s.length)?null==n?void 0:null===(i=n.languages)||void 0===i?void 0:i.join(", "):"Update Languages"}),(0,l.jsx)(h.Z,{onClick:()=>M(!0),className:"h-4 w-4"})]})]})]})]}):(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(A.O,{className:"h-20 w-20 rounded-full"}),(0,l.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,l.jsx)(A.O,{className:"h-8 w-3/4"}),(0,l.jsx)(A.O,{className:"h-4 w-full"}),(0,l.jsx)(A.O,{className:"h-4 w-5/6"})]})]}),(0,l.jsx)(components_About,{}),(0,l.jsx)(components_CareerObjective,{}),(0,l.jsx)(components_Resume,{}),(0,l.jsx)(components_Educations,{}),(0,l.jsx)(components_Experience,{}),(0,l.jsx)(components_Certifications,{}),(0,l.jsx)(components_Skills,{}),(0,l.jsx)(components_Gender,{}),(0,l.jsx)(components_DateOfBirth,{}),(0,l.jsx)(components_UserIdentity,{}),(0,l.jsx)(components_Address,{}),(0,l.jsx)(components_EmergencyContact,{}),(0,l.jsx)(components_BloodGroup,{}),(0,l.jsxs)(EditModal,{open:P,onOpenChange:O,title:"Edit Name",description:"Update your name",children:[(0,l.jsx)("div",{className:"grid gap-4 py-4",children:(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"name",children:"Name"}),(0,l.jsx)(b.I,{onChange:e=>V(e.target.value),id:"name",defaultValue:null==n?void 0:n.fullName})]})}),(0,l.jsx)(N.cN,{children:(0,l.jsx)(f.z,{onClick:user_name_update,type:"submit",children:Y?"Updating...":"Save changes"})})]}),(0,l.jsxs)(EditModal,{open:J,onOpenChange:X,title:"Edit Contact Details",description:"Update your contact details",children:[(0,l.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"email",children:"Email"}),(0,l.jsx)(b.I,{readOnly:!0,required:!0,onChange:e=>el(e.target.value),id:"email",defaultValue:null==n?void 0:n.email})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"email",children:"Phone Number"}),(0,l.jsx)(E(),{country:"bd",value:ee,onChange:e=>ea(e),inputProps:{id:"phone",className:"w-full p-2 pl-14 border border-gray-300 rounded-md focus:ring focus:ring-indigo-500"},containerClass:"w-full",buttonClass:"rounded-l-md"})]})]}),(0,l.jsx)(N.cN,{children:(0,l.jsx)(f.z,{onClick:update_contact,type:"submit",children:Y?"Updating...":"Save changes"})})]}),(0,l.jsxs)(EditModal,{open:I,onOpenChange:M,title:"Edit Languages",description:"Update your languages",children:[(0,l.jsx)("div",{className:"grid gap-4 py-4",children:(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(_._,{htmlFor:"languages",children:"Spoken Languages"}),(0,l.jsx)(k.Z,{onChange:e=>{let a=e.map(e=>e.value);W(a),H(a)},value:null==$?void 0:$.map(e=>({value:e,label:e})),isMulti:!0})]})}),(0,l.jsx)(N.cN,{children:(0,l.jsx)(f.z,{onClick:user_languages_update,type:"submit",children:Y?"Updating...":"Save changes"})})]}),(0,l.jsxs)(EditModal,{open:F,onOpenChange:z,title:"Edit Image",description:"Update your profile image",children:[(0,l.jsx)("div",{className:"sm:max-w-md",children:(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsx)("div",{className:"flex flex-col items-center justify-center gap-4",children:T?(0,l.jsxs)("div",{className:"relative h-32 w-32",children:[(0,l.jsx)("img",{src:T,alt:"Preview",className:"h-full w-full rounded-full object-cover"}),(0,l.jsx)(f.z,{variant:"outline",size:"sm",className:"absolute right-0 top-0 rounded-full",onClick:()=>U(null),children:""})]}):(0,l.jsx)("div",{className:"flex h-32 w-32 items-center justify-center rounded-full bg-muted",children:(0,l.jsx)(j.Z,{className:"h-8 w-8 text-muted-foreground"})})})})}),(0,l.jsx)(b.I,{className:"my-4",id:"picture",type:"file",accept:"image/*",onChange:e=>{var a;let s=null===(a=e.target.files)||void 0===a?void 0:a[0];if(s){G(s);let e=new FileReader;e.onloadend=()=>{U(e.result)},e.readAsDataURL(s)}}}),(0,l.jsx)(N.cN,{children:(0,l.jsx)(f.z,{disabled:Y,onClick:profile_image_update,type:"submit",className:"bg-blue-500 text-white hover:bg-blue-600",children:Y?"Saving...":" Save changes"})})]})]}),(0,l.jsxs)(y.Zb,{className:"group h-fit mb-8",children:[(0,l.jsx)(y.Ol,{children:(0,l.jsx)(y.ll,{children:"Quick Links"})}),(0,l.jsxs)(y.aY,{children:[(0,l.jsxs)(o(),{href:"#",className:"flex items-center gap-2 text-muted-foreground transition-colors duration-300 ease-in-out hover:text-foreground",children:[(0,l.jsx)(v.Z,{className:"h-4 w-4"}),"Portfolio"]}),(0,l.jsxs)("button",{className:"mt-4 hidden scale-95 transform items-center justify-center gap-2 opacity-0 transition-all duration-300 ease-in-out group-hover:flex group-hover:scale-100 group-hover:opacity-100",children:[(0,l.jsx)(g.Z,{className:"h-4 w-4"})," Update"]})]})]})]})})}let em=new i.S;var page=()=>(0,l.jsx)(n.aH,{client:em,children:(0,l.jsx)(ProfilePage,{})})},98266:function(e,a,s){"use strict";s.d(a,{J2:function(){return d},xo:function(){return r},yk:function(){return c}});var l=s(57437),t=s(2265),i=s(65050),n=s(81628);let d=i.fC,r=i.xz,c=t.forwardRef((e,a)=>{let{className:s,align:t="center",sideOffset:d=4,...r}=e;return(0,l.jsx)(i.h_,{children:(0,l.jsx)(i.VY,{ref:a,align:t,sideOffset:d,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})})});c.displayName=i.VY.displayName},22147:function(e,a,s){"use strict";s.d(a,{g:function(){return n}});var l=s(57437),t=s(2265),i=s(81628);let n=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,l.jsx)("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...t})});n.displayName="Textarea"}},function(e){e.O(0,[3487,450,1560,3863,8326,4160,8343,7437,2056,7239,561,8498,3701,2971,2472,1744],function(){return e(e.s=51260)}),_N_E=e.O()}]);